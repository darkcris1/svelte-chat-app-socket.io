var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function s(e){e.forEach(r)}function i(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function f(e,t,n,r,o,s,i){const a=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,s);if(a){const o=u(t,n,r,i);e.p(o,a)}}function p(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function h(e,t){const n={};t=new Set(t);for(const r in e)t.has(r)||"$"===r[0]||(n[r]=e[r]);return n}const d=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),y=m?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&y(w)}function v(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function E(e){return document.createTextNode(e)}function _(){return E(" ")}function O(){return E("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const r in t)null==t[r]?e.removeAttribute(r):"style"===r?e.style.cssText=t[r]:"__value"===r?e.value=e[r]=t[r]:n[r]&&n[r].set?e[r]=t[r]:A(e,r,t[r])}function B(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function P(e,t){e.value=null==t?"":t}function N(e,t,n){e.classList[n?"add":"remove"](t)}function R(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const F=new Set;let M,L=0;function D(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),L-=o,L||y((()=>{L||(F.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),F.clear())})))}function q(e){M=e}function I(){if(!M)throw new Error("Function called outside component initialization");return M}function U(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const z=[],H=[],W=[],V=[],K=Promise.resolve();let Y=!1;function X(e){W.push(e)}function J(e){V.push(e)}let Z=!1;const G=new Set;function Q(){if(!Z){Z=!0;do{for(let e=0;e<z.length;e+=1){const t=z[e];q(t),ee(t.$$)}for(q(null),z.length=0;H.length;)H.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];G.has(t)||(G.add(t),t())}W.length=0}while(z.length);for(;V.length;)V.pop()();Y=!1,Z=!1,G.clear()}}function ee(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(X)}}let te;function ne(e,t,n){e.dispatchEvent(R(`${t?"intro":"outro"}${n}`))}const re=new Set;let oe;function se(){oe={r:0,c:[],p:oe}}function ie(){oe.r||s(oe.c),oe=oe.p}function ae(e,t){e&&e.i&&(re.delete(e),e.i(t))}function ce(e,t,n,r){if(e&&e.o){if(re.has(e))return;re.add(e),oe.c.push((()=>{re.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const le={duration:0};function ue(n,r,o){let s,a,c=r(n,o),l=!1,u=0;function f(){s&&D(n,s)}function p(){const{delay:r=0,duration:o=300,easing:i=t,tick:p=e,css:h}=c||le;h&&(s=function(e,t,n,r,o,s,i,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*s(e);l+=100*e+`%{${i(r,1-r)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=e.ownerDocument;F.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(C("style")).sheet),d=p.__svelte_rules||(p.__svelte_rules={});d[f]||(d[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${r}ms linear ${o}ms 1 both`,L+=1,f}(n,0,1,o,r,i,h,u++)),p(0,1);const d=g()+r,m=d+o;a&&a.abort(),l=!0,X((()=>ne(n,!0,"start"))),a=function(e){let t;return 0===b.size&&y(w),{promise:new Promise((n=>{b.add(t={c:e,f:n})})),abort(){b.delete(t)}}}((e=>{if(l){if(e>=m)return p(1,0),ne(n,!0,"end"),f(),l=!1;if(e>=d){const t=i((e-d)/o);p(t,1-t)}}return l}))}let h=!1;return{start(){h||(D(n),i(c)?(c=c(),(te||(te=Promise.resolve(),te.then((()=>{te=null}))),te).then(p)):p())},invalidate(){h=!1},end(){l&&(f(),l=!1)}}}function fe(e,t){ce(e,1,1,(()=>{t.delete(e.key)}))}function pe(e,t,n,r,o,s,i,a,c,l,u,f){let p=e.length,h=s.length,d=p;const m={};for(;d--;)m[e[d].key]=d;const g=[],y=new Map,b=new Map;for(d=h;d--;){const e=f(o,s,d),a=n(e);let c=i.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),y.set(a,g[d]=c),a in m&&b.set(a,Math.abs(d-m[a]))}const w=new Set,v=new Set;function x(e){ae(e,1),e.m(a,u),i.set(e.key,e),u=e.first,h--}for(;p&&h;){const t=g[h-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,h--):y.has(o)?!i.has(r)||w.has(r)?x(t):v.has(o)?p--:b.get(r)>b.get(o)?(v.add(r),x(t)):(w.add(o),p--):(c(n,i),p--)}for(;p--;){const t=e[p];y.has(t.key)||c(t,i)}for(;h;)x(g[h-1]);return g}function he(e,t){const n={},r={},o={$$scope:1};let s=e.length;for(;s--;){const i=e[s],a=t[s];if(a){for(const e in i)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[s]=a}else for(const e in i)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}function de(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function me(e){e&&e.c()}function ge(e,t,n){const{fragment:o,on_mount:a,on_destroy:c,after_update:l}=e.$$;o&&o.m(t,n),X((()=>{const t=a.map(r).filter(i);c?c.push(...t):s(t),e.$$.on_mount=[]})),l.forEach(X)}function ye(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(z.push(e),Y||(Y=!0,K.then(Q)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(t,n,r,i,a,c,l=[-1]){const u=M;q(t);const f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&be(t,e)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&ae(t.$$.fragment),ge(t,n.target,n.anchor),Q()}q(u)}class ve{$destroy(){ye(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class xe extends ve{constructor(e){super(),we(this,e,null,null,a,{})}}const ke=e=>({}),Ce=e=>({});function $e(e){let t,r,o,s,i,a;const c=e[4].default,u=l(c,e,e[3],null),p=e[4].icon,h=l(p,e,e[3],Ce);let d=[e[2],{class:o=`p-2 my-2 disabled:opacity-50 disabled:cursor-default text-white rounded-md focus:outline-none\n  focus:ring-2 ring-blue-300 ring-offset-2 ${e[2].class} flex items-center justify-center shadow-xl`}],m={};for(let e=0;e<d.length;e+=1)m=n(m,d[e]);return{c(){t=C("button"),u&&u.c(),r=_(),h&&h.c(),j(t,m),N(t,"bg-blue-500",!e[1]),N(t,"bg-red-500",e[1])},m(n,o){x(n,t,o),u&&u.m(t,null),v(t,r),h&&h.m(t,null),e[6](t),s=!0,i||(a=T(t,"click",e[5]),i=!0)},p(e,[n]){u&&u.p&&8&n&&f(u,c,e,e[3],n,null,null),h&&h.p&&8&n&&f(h,p,e,e[3],n,ke,Ce),j(t,m=he(d,[4&n&&e[2],(!s||4&n&&o!==(o=`p-2 my-2 disabled:opacity-50 disabled:cursor-default text-white rounded-md focus:outline-none\n  focus:ring-2 ring-blue-300 ring-offset-2 ${e[2].class} flex items-center justify-center shadow-xl`))&&{class:o}])),N(t,"bg-blue-500",!e[1]),N(t,"bg-red-500",e[1])},i(e){s||(ae(u,e),ae(h,e),s=!0)},o(e){ce(u,e),ce(h,e),s=!1},d(n){n&&k(t),u&&u.d(n),h&&h.d(n),e[6](null),i=!1,a()}}}function Ee(e,t,r){const o=["danger","ref"];let s=h(t,o),{$$slots:i={},$$scope:a}=t,{danger:c=!1}=t,{ref:l=null}=t;return e.$$set=e=>{t=n(n({},t),p(e)),r(2,s=h(t,o)),"danger"in e&&r(1,c=e.danger),"ref"in e&&r(0,l=e.ref),"$$scope"in e&&r(3,a=e.$$scope)},[l,c,s,a,i,function(t){U(e,t)},function(e){H[e?"unshift":"push"]((()=>{l=e,r(0,l)}))}]}class _e extends ve{constructor(e){super(),we(this,e,Ee,$e,a,{danger:1,ref:0})}}function Oe(e){let t,n;return{c(){t=C("div"),n=E(e[1]),A(t,"class","p-2 bg-red-300 text-red-800 rounded border border-red-600")},m(e,r){x(e,t,r),v(t,n)},p(e,t){2&t&&B(n,e[1])},d(e){e&&k(t)}}}function Te(t){let r,o,s,i,a,c,l,u,f,p=[{id:t[2]},{name:"password"},t[4],{class:"block w-full py-3 px-1 mt-2 text-gray-800 appearance-none border-b-2\n    border-gray-200 focus:text-gray-500 focus:outline-none focus:border-gray-200"}],h={};for(let e=0;e<p.length;e+=1)h=n(h,p[e]);let d=t[1]&&Oe(t);return{c(){r=C("div"),o=C("label"),s=E(t[2]),i=_(),a=C("input"),c=_(),d&&d.c(),A(o,"for",t[2]),A(o,"class","block mt-2 text-xs font-semibold text-gray-600 uppercase"),j(a,h),A(r,"class",l=t[3].class)},m(e,n){x(e,r,n),v(r,o),v(o,s),v(r,i),v(r,a),P(a,t[0]),v(r,c),d&&d.m(r,null),u||(f=T(a,"input",t[5]),u=!0)},p(e,[t]){4&t&&B(s,e[2]),4&t&&A(o,"for",e[2]),j(a,h=he(p,[4&t&&{id:e[2]},{name:"password"},16&t&&e[4],{class:"block w-full py-3 px-1 mt-2 text-gray-800 appearance-none border-b-2\n    border-gray-200 focus:text-gray-500 focus:outline-none focus:border-gray-200"}])),1&t&&a.value!==e[0]&&P(a,e[0]),e[1]?d?d.p(e,t):(d=Oe(e),d.c(),d.m(r,null)):d&&(d.d(1),d=null),8&t&&l!==(l=e[3].class)&&A(r,"class",l)},i:e,o:e,d(e){e&&k(r),d&&d.d(),u=!1,f()}}}function Se(e,t,r){const o=["error","label","value"];let s=h(t,o),{error:i=null}=t,{label:a=""}=t,{value:c=""}=t;return e.$$set=e=>{r(3,t=n(n({},t),p(e))),r(4,s=h(t,o)),"error"in e&&r(1,i=e.error),"label"in e&&r(2,a=e.label),"value"in e&&r(0,c=e.value)},t=p(t),[c,i,a,t,s,function(){c=this.value,r(0,c)}]}class Ae extends ve{constructor(e){super(),we(this,e,Se,Te,a,{error:1,label:2,value:0})}}function je(t){let n;return{c(){n=C("div"),n.innerHTML='<div class="flex items-center justify-center rounded-2xl text-indigo-700\n    bg-indigo-100 h-10 w-10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2\n        2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></div> \n  <div class="ml-2 font-bold text-2xl">Chatterify</div>',A(n,"class","flex flex-row items-center justify-center h-12 w-full")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class Be extends ve{constructor(e){super(),we(this,e,null,je,a,{})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Pe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ne(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var Re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Fe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Me=function(e){var t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));for(var o,s,i=Re.exec(e||""),a={},c=14;c--;)a[Fe[c]]=i[c]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){var n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||r.splice(0,1);"/"==t.substr(t.length-1,1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=(o=a.query,s={},o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),a};var Le=1e3,De=60*Le,qe=60*De,Ie=24*qe,Ue=7*Ie,ze=365.25*Ie,He=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*ze;case"weeks":case"week":case"w":return n*Ue;case"days":case"day":case"d":return n*Ie;case"hours":case"hour":case"hrs":case"hr":case"h":return n*qe;case"minutes":case"minute":case"mins":case"min":case"m":return n*De;case"seconds":case"second":case"secs":case"sec":case"s":return n*Le;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=Ie)return We(e,t,Ie,"day");if(t>=qe)return We(e,t,qe,"hour");if(t>=De)return We(e,t,De,"minute");if(t>=Le)return We(e,t,Le,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=Ie)return Math.round(e/Ie)+"d";if(t>=qe)return Math.round(e/qe)+"h";if(t>=De)return Math.round(e/De)+"m";if(t>=Le)return Math.round(e/Le)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function We(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}var Ve=function(e){function t(e){let r,o=null;function s(...e){if(!s.enabled)return;const n=s,o=Number(new Date),i=o-(r||o);n.diff=i,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";a++;const s=t.formatters[o];if("function"==typeof s){const t=e[a];r=s.call(n,t),e.splice(a,1),a--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=He,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},Ke=Ne((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Ve(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Ye=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const n=Ke("socket.io-client:url");t.url=function(e,t){let r=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),n("parse %s",e),r=Me(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port,r.href=r.protocol+"://"+o+(t&&t.port===r.port?"":":"+r.port),r}})),Xe=Ne((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}})),Je="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ze=function(e){const t=e.xdomain,n=e.xscheme,r=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Xe))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&r)return new XDomainRequest}catch(e){}if(!t)try{return new(Je[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}};const Ge=Object.create(null);Ge.open="0",Ge.close="1",Ge.ping="2",Ge.pong="3",Ge.message="4",Ge.upgrade="5",Ge.noop="6";const Qe=Object.create(null);Object.keys(Ge).forEach((e=>{Qe[Ge[e]]=e}));var et={PACKET_TYPES:Ge,PACKET_TYPES_REVERSE:Qe,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:tt}=et,nt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rt="function"==typeof ArrayBuffer,ot=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};var st=({type:e,data:t},n,r)=>{return nt&&t instanceof Blob?n?r(t):ot(t,r):rt&&(t instanceof ArrayBuffer||(o=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?n?r(t instanceof ArrayBuffer?t:t.buffer):ot(new Blob([t]),r):r(tt[e]+(t||""));var o},it=Ne((function(e,t){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,r=new Uint8Array(e),o=r.length,s="";for(t=0;t<o;t+=3)s+=n[r[t]>>2],s+=n[(3&r[t])<<4|r[t+1]>>4],s+=n[(15&r[t+1])<<2|r[t+2]>>6],s+=n[63&r[t+2]];return o%3==2?s=s.substring(0,s.length-1)+"=":o%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,r,o,s,i,a=.75*e.length,c=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),f=new Uint8Array(u);for(t=0;t<c;t+=4)r=n.indexOf(e[t]),o=n.indexOf(e[t+1]),s=n.indexOf(e[t+2]),i=n.indexOf(e[t+3]),f[l++]=r<<2|o>>4,f[l++]=(15&o)<<4|s>>2,f[l++]=(3&s)<<6|63&i;return u}}));const{PACKET_TYPES_REVERSE:at,ERROR_PACKET:ct}=et;let lt;"function"==typeof ArrayBuffer&&(lt=it);const ut=(e,t)=>{if(lt){const n=lt.decode(e);return ft(n,t)}return{base64:!0,data:e}},ft=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};var pt=(e,t)=>{if("string"!=typeof e)return{type:"message",data:ft(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ut(e.substring(1),t)};return at[n]?e.length>1?{type:at[n],data:e.substring(1)}:{type:at[n]}:ct};const ht=String.fromCharCode(30);var dt={protocol:4,encodePacket:st,encodePayload:(e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,s)=>{st(e,!1,(e=>{r[s]=e,++o===n&&t(r.join(ht))}))}))},decodePacket:pt,decodePayload:(e,t)=>{const n=e.split(ht),r=[];for(let e=0;e<n.length;e++){const o=pt(n[e],t);if(r.push(o),"error"===o.type)break}return r}},mt=Ne((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));var gt,yt=class extends mt{constructor(e){super(),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const t=dt.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},bt=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},wt=function(e){for(var t={},n=e.split("&"),r=0,o=n.length;r<o;r++){var s=n[r].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t},vt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xt={},kt=0,Ct=0;function $t(e){var t="";do{t=vt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Et(){var e=$t(+new Date);return e!==gt?(kt=0,gt=e):e+"."+$t(kt++)}for(;Ct<64;Ct++)xt[vt[Ct]]=Ct;Et.encode=$t,Et.decode=function(e){var t=0;for(Ct=0;Ct<e.length;Ct++)t=64*t+xt[e.charAt(Ct)];return t};var _t=Et;const Ot=Ke("engine.io-client:polling");var Tt=class extends yt{get name(){return"polling"}doOpen(){this.poll()}pause(e){const t=this;function n(){Ot("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){let e=0;this.polling&&(Ot("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){Ot("pre-pause polling complete"),--e||n()}))),this.writable||(Ot("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){Ot("pre-pause writing complete"),--e||n()})))}else n()}poll(){Ot("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const t=this;Ot("polling got data %s",e);dt.decodePayload(e,this.socket.binaryType).forEach((function(e,n,r){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Ot('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=this;function t(){Ot("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(Ot("transport open - closing"),t()):(Ot("transport not open - deferring close"),this.once("open",t))}write(e){this.writable=!1,dt.encodePayload(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=_t()),this.supportsBinary||e.sid||(e.b64=1),e=bt(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},St={pick:(e,...t)=>t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})};const{pick:At}=St,jt=Ke("engine.io-client:polling-xhr");function Bt(){}const Pt=null!=new Ze({xdomain:!1}).responseType;class Nt extends mt{constructor(e,t){super(),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=At(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Ze(e),n=this;try{jt("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},jt("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Nt.requestsCount++,Nt.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Bt:this.xhr.onreadystatechange=Bt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Nt.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(Nt.requestsCount=0,Nt.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Rt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Je?"pagehide":"unload",Rt,!1)}function Rt(){for(let e in Nt.requests)Nt.requests.hasOwnProperty(e)&&Nt.requests[e].abort()}var Ft=class extends Tt{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=Pt&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Nt(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e}),r=this;n.on("success",t),n.on("error",(function(e){r.onError("xhr post error",e)}))}doPoll(){jt("xhr poll");const e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}},Mt=Nt;Ft.Request=Mt;const Lt=/\n/g,Dt=/\\n/g;let qt;function It(){}var Ut=class extends Tt{constructor(e){super(e),this.query=this.query||{},qt||(qt=Je.___eio=Je.___eio||[]),this.index=qt.length;const t=this;qt.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=It)}),!1)}get supportsBinary(){return!1}doClose(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};const n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){const e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}doWrite(e,t){const n=this;let r;if(!this.form){const e=document.createElement("form"),t=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=n,e.method="POST",e.setAttribute("accept-charset","utf-8"),t.name="d",e.appendChild(t),document.body.appendChild(e),this.form=e,this.area=t}function o(){s(),t()}function s(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{const e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(e){r=document.createElement("iframe"),r.name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),s(),e=e.replace(Dt,"\\\n"),this.area.value=e.replace(Lt,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&o()}:this.iframe.onload=o}},zt={WebSocket:Je.WebSocket||Je.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};const{pick:Ht}=St,{WebSocket:Wt,usingBrowserWebSocket:Vt,defaultBinaryType:Kt}=zt,Yt=Ke("engine.io-client:websocket"),Xt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Jt extends yt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Xt?{}:Ht(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Vt&&!Xt?t?new Wt(e,t):new Wt(e):new Wt(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||Kt,this.addEventListeners()}addEventListeners(){const e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}write(e){const t=this;this.writable=!1;let n=e.length,r=0;const o=n;for(;r<o;r++)!function(e){dt.encodePacket(e,t.supportsBinary,(function(r){const o={};if(!Vt&&(e.options&&(o.compress=e.options.compress),t.opts.perMessageDeflate)){("string"==typeof r?Buffer.byteLength(r):r.length)<t.opts.perMessageDeflate.threshold&&(o.compress=!1)}try{Vt?t.ws.send(r):t.ws.send(r,o)}catch(e){Yt("websocket closed before onclose event")}--n||s()}))}(e[r]);function s(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}}onClose(){yt.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&this.ws.close()}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=_t()),this.supportsBinary||(e.b64=1),e=bt(e),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!(!Wt||"__initialize"in Wt&&this.name===Jt.prototype.name)}}var Zt={polling:function(e){let t,n=!1,r=!1;const o=!1!==e.jsonp;if("undefined"!=typeof location){const t="https:"===location.protocol;let o=location.port;o||(o=t?443:80),n=e.hostname!==location.hostname||o!==e.port,r=e.secure!==t}if(e.xdomain=n,e.xscheme=r,t=new Ze(e),"open"in t&&!e.forceJSONP)return new Ft(e);if(!o)throw new Error("JSONP disabled");return new Ut(e)},websocket:Jt};const Gt=Ke("engine.io-client:socket");class Qt extends mt{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Me(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Me(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=wt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,this.open()}createTransport(e){Gt('creating transport "%s"',e);const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=dt.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Gt("options: %j",n),new Zt[e](n)}open(){let e;if(this.opts.rememberUpgrade&&Qt.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){const e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return Gt("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){Gt("setting transport %s",e.name);const t=this;this.transport&&(Gt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))}probe(e){Gt('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1;const r=this;function o(){if(r.onlyBinaryUpgrades){const e=!this.supportsBinary&&r.transport.supportsBinary;n=n||e}n||(Gt('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(o){if(!n)if("pong"===o.type&&"probe"===o.data){if(Gt('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;Qt.priorWebsocketSuccess="websocket"===t.name,Gt('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(Gt("changing transport and sending upgrade packet"),u(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{Gt('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,r.emit("upgradeError",n)}})))}function s(){n||(n=!0,u(),t.close(),t=null)}function i(n){const o=new Error("probe error: "+n);o.transport=t.name,s(),Gt('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",o)}function a(){i("transport closed")}function c(){i("socket closed")}function l(e){t&&e.name!==t.name&&(Gt('"%s" works - aborting "%s"',e.name,t.name),s())}function u(){t.removeListener("open",o),t.removeListener("error",i),t.removeListener("close",a),r.removeListener("close",c),r.removeListener("upgrading",l)}Qt.priorWebsocketSuccess=!1,t.once("open",o),t.once("error",i),t.once("close",a),this.once("close",c),this.once("upgrading",l),t.open()}onOpen(){if(Gt("socket open"),this.readyState="open",Qt.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Gt("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Gt('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Gt('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Gt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emit("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=this;function t(){e.onClose("forced close"),Gt("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()),this}onError(e){Gt("socket error %j",e),Qt.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){Gt('socket close with reason: "%s"',e);const n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}Qt.priorWebsocketSuccess=!1,Qt.protocol=dt.protocol;var en=Qt,tn=(e,t)=>new en(e,t),nn=en,rn=en.protocol,on=yt,sn=Zt,an=dt;tn.Socket=nn,tn.protocol=rn,tn.Transport=on,tn.transports=sn,tn.parser=an;var cn=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"==typeof ArrayBuffer,r=Object.prototype.toString,o="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===r.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===r.call(File);function i(e){return n&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||o&&e instanceof Blob||s&&e instanceof File}t.isBinary=i,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(e(t[n]))return!0;return!1}if(i(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}})),ln=Ne((function(e,t){function n(e,t){if(!e)return e;if(cn.isBinary(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const r=new Array(e.length);for(let o=0;o<e.length;o++)r[o]=n(e[o],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const o in e)e.hasOwnProperty(o)&&(r[o]=n(e[o],t));return r}return e}function r(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=r(e[n],t);else if("object"==typeof e)for(const n in e)e.hasOwnProperty(n)&&(e[n]=r(e[n],t));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0,t.deconstructPacket=function(e){const t=[],r=e.data,o=e;return o.data=n(r,t),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=r(e.data,t),e.attachments=void 0,e}})),un=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=Ke("socket.io-parser");var r;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(r=t.PacketType||(t.PacketType={}));t.Encoder=class{encode(e){return n("encoding packet %j",e),e.type!==r.EVENT&&e.type!==r.ACK||!cn.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===r.EVENT?r.BINARY_EVENT:r.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==r.BINARY_EVENT&&e.type!==r.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),n("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=ln.deconstructPacket(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}};class o extends mt{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===r.BINARY_EVENT||t.type===r.BINARY_ACK?(this.reconstructor=new s(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!cn.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(void 0===r[s.type])throw new Error("unknown packet type "+s.type);if(s.type===r.BINARY_EVENT||s.type===r.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const r=e.substring(n,t);if(r!=Number(r)||"-"!==e.charAt(t))throw new Error("Illegal attachments");s.attachments=Number(r)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}s.nsp=e.substring(n,t)}else s.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const n=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}s.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!o.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return n("decoded %s as %j",e,s),s}static isPayloadValid(e,t){switch(e){case r.CONNECT:return"object"==typeof t;case r.DISCONNECT:return void 0===t;case r.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case r.EVENT:case r.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case r.ACK:case r.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=o;class s{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=ln.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),fn=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}})),pn=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const n=Ke("socket.io-client:socket"),r=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});t.Socket=class extends mt{constructor(e,t,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[fn.on(e,"open",this.onopen.bind(this)),fn.on(e,"packet",this.onpacket.bind(this)),fn.on(e,"error",this.onerror.bind(this)),fn.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(r.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const o={type:un.PacketType.EVENT,data:t,options:{}};o.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),o.id=this.ids++);const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(o):this.sendBuffer.push(o),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:un.PacketType.CONNECT,data:e})})):this.packet({type:un.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||super.emit("connect_error",e)}onclose(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case un.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case un.PacketType.EVENT:case un.PacketType.BINARY_EVENT:this.onevent(e);break;case un.PacketType.ACK:case un.PacketType.BINARY_ACK:this.onack(e);break;case un.PacketType.DISCONNECT:this.ondisconnect();break;case un.PacketType.CONNECT_ERROR:const t=new Error(e.data.message);t.data=e.data.data,super.emit("connect_error",t)}}onevent(e){const t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...o){r||(r=!0,n("sending ack %j",o),t.packet({type:un.PacketType.ACK,id:e,data:o}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)}onconnect(e){n("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:un.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}})),hn=dn;function dn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}dn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},dn.prototype.reset=function(){this.attempts=0},dn.prototype.setMin=function(e){this.ms=e},dn.prototype.setMax=function(e){this.max=e},dn.prototype.setJitter=function(e){this.jitter=e};var mn=Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const n=Ke("socket.io-client:manager");t.Manager=class extends mt{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||un;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=tn(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const o=fn.on(t,"open",(function(){r.onopen(),e&&e()})),s=fn.on(t,"error",(t=>{n("error"),r.cleanup(),r._readyState="closed",super.emit("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;n("connect attempt will timeout after %d",e),0===e&&o();const r=setTimeout((()=>{n("connect attempt timed out after %d",e),o(),t.close(),t.emit("error",new Error("timeout"))}),e);this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(o),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){n("open"),this.cleanup(),this._readyState="open",super.emit("open");const e=this.engine;this.subs.push(fn.on(e,"ping",this.onping.bind(this)),fn.on(e,"data",this.ondata.bind(this)),fn.on(e,"error",this.onerror.bind(this)),fn.on(e,"close",this.onclose.bind(this)),fn.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){super.emit("packet",e)}onerror(e){n("error",e),super.emit("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new pn.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void n("socket %s is still active, skipping close",e)}this._close()}_packet(e){n("writing packet %j",e),e.query&&0===e.type&&(e.nsp+="?"+e.query);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){n("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();n("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const r=setTimeout((()=>{e.skipReconnect||(n("attempting reconnect"),super.emit("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(n("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),super.emit("reconnect_error",t)):(n("reconnect success"),e.onreconnect())})))}),t);this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",e)}}})),gn=Pe(Ne((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.io=t.Manager=t.protocol=void 0,Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return pn.Socket}});const n=Ke("socket.io-client");e.exports=t=o;const r=t.managers={};function o(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const o=Ye.url(e),s=o.source,i=o.id,a=o.path,c=r[i]&&a in r[i].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||c?(n("ignoring socket cache for %s",s),l=new mn.Manager(s,t)):(r[i]||(n("new io instance for %s",s),r[i]=new mn.Manager(s,t)),l=r[i]),o.query&&!t.query&&(t.query=o.query),l.socket(o.path,t)}t.io=o,Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return un.protocol}}),t.connect=o;var s=mn;Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}})})));const yn=[];function bn(t,n=e){let r;const o=[];function s(e){if(a(t,e)&&(t=e,r)){const e=!yn.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),yn.push(n,t)}if(e){for(let e=0;e<yn.length;e+=2)yn[e][0](yn[e+1]);yn.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,a=e){const c=[i,a];return o.push(c),1===o.length&&(r=n(s)||e),i(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}const wn="chat-app.id",vn=bn([]),xn=bn(),kn=gn("/");function Cn(e,t){const n={username:e,room:t};kn.emit("join-room",n,((e,t)=>{e.find((({id:e})=>e===t.id)).isSelf=!0,vn.set(e),xn.set(n),localStorage.setItem(wn,JSON.stringify(n))}))}kn.on("user-disconnect",(e=>{vn.update((t=>t.filter((t=>t.id!==e.id))))})),kn.on("user-join",(e=>{vn.update((t=>[...t,e]))}));const $n=JSON.parse(localStorage.getItem(wn));function En(e){let t;return{c(){t=E("Enter or Create room")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function _n(e){let t,n,r,o,s,i,a,c,l,u,f,p,h,d,m;function g(t){e[4].call(null,t)}r=new Be({});let y={label:"Name",name:"name"};function b(t){e[5].call(null,t)}void 0!==e[0]&&(y.value=e[0]),i=new Ae({props:y}),H.push((()=>de(i,"value",g)));let w={name:"room",label:"Room Name"};return void 0!==e[1]&&(w.value=e[1]),l=new Ae({props:w}),H.push((()=>de(l,"value",b))),p=new _e({props:{disabled:e[2],class:"block w-full font-semibold",$$slots:{default:[En]},$$scope:{ctx:e}}}),{c(){t=C("div"),n=C("div"),me(r.$$.fragment),o=_(),s=C("form"),me(i.$$.fragment),c=_(),me(l.$$.fragment),f=_(),me(p.$$.fragment),A(n,"class","w-11/12 p-12 sm:w-8/12 md:w-6/12 lg:w-5/12 2xl:w-4/12 px-6 py-10\n    sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg"),A(t,"class","grid place-items-center w-full")},m(a,u){x(a,t,u),v(t,n),ge(r,n,null),v(n,o),v(n,s),ge(i,s,null),v(s,c),ge(l,s,null),v(s,f),ge(p,s,null),h=!0,d||(m=T(s,"submit",S(e[3])),d=!0)},p(e,[t]){const n={};!a&&1&t&&(a=!0,n.value=e[0],J((()=>a=!1))),i.$set(n);const r={};!u&&2&t&&(u=!0,r.value=e[1],J((()=>u=!1))),l.$set(r);const o={};4&t&&(o.disabled=e[2]),64&t&&(o.$$scope={dirty:t,ctx:e}),p.$set(o)},i(e){h||(ae(r.$$.fragment,e),ae(i.$$.fragment,e),ae(l.$$.fragment,e),ae(p.$$.fragment,e),h=!0)},o(e){ce(r.$$.fragment,e),ce(i.$$.fragment,e),ce(l.$$.fragment,e),ce(p.$$.fragment,e),h=!1},d(e){e&&k(t),ye(r),ye(i),ye(l),ye(p),d=!1,m()}}}function On(e,t,n){let r,o,s=!1;return[r,o,s,async function(){r&&o&&(n(2,s=!0),Cn(r,o))},function(e){r=e,n(0,r)},function(e){o=e,n(1,o)}]}$n&&Cn($n.username,$n.room);class Tn extends ve{constructor(e){super(),we(this,e,On,_n,a,{})}}function Sn(e){let t,r,o;const s=e[2].default,i=l(s,e,e[1],null);let a=[e[0],{class:r=`p-12 px-6 py-10\n  sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg ${e[0].class}`}],c={};for(let e=0;e<a.length;e+=1)c=n(c,a[e]);return{c(){t=C("div"),i&&i.c(),j(t,c)},m(e,n){x(e,t,n),i&&i.m(t,null),o=!0},p(e,[n]){i&&i.p&&2&n&&f(i,s,e,e[1],n,null,null),j(t,c=he(a,[1&n&&e[0],(!o||1&n&&r!==(r=`p-12 px-6 py-10\n  sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg ${e[0].class}`))&&{class:r}]))},i(e){o||(ae(i,e),o=!0)},o(e){ce(i,e),o=!1},d(e){e&&k(t),i&&i.d(e)}}}function An(e,t,r){let{$$slots:o={},$$scope:s}=t;return e.$$set=e=>{r(0,t=n(n({},t),p(e))),"$$scope"in e&&r(1,s=e.$$scope)},[t=p(t),s,o]}class jn extends ve{constructor(e){super(),we(this,e,An,Sn,a,{})}}function Bn(e,{delay:n=0,duration:r=400,easing:o=t}={}){const s=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*s}}var Pn=Ne((function(e,t){
/*!
     * calerts
     * Lightweight and customizable dialogs inspired by sweetalert
     *
     * @version v1.1.10
     * @author Cris Fandio <sircnujnuj@gmail.com>
     * @license MIT
     */
e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach((function(t){e(n,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(o,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function o(e,t){var n=e instanceof Element?e:document.createElement(e);if(!t)return n;for(var r in t){var o=t[r];if(/^on([A-Z][a-z A-Z])+/.test(r)){var i=r.toLowerCase().substr(2);n.addEventListener(i,o)}else switch(r){case"style":s(n,o);break;case"appendTo":if(!o)break;o.appendChild(n);break;case"appendChild":n.appendChild(o);break;case"dataset":n.dataset[o[0]]=o[1]||"";break;default:n[r]=o}}return n}function s(e,t){for(var n in t)e.style.setProperty(/^-+/.test(r=n)?r:/([^\-]+)([A-Z])/g.test(r)?r.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})):r.toLowerCase(),t[n]);var r}function i(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{reject:t,resolve:e,promise:n}}function a(e,t){return o(e,t),{on:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.split(" ").forEach((function(t){e.addEventListener(t,n,r)}))}}}function c(e){for(var t=["title","text","icon"],r={confirmButton:!0,backdropClick:!0},o=0;o<e.length;o++){var s=e[o];"string"==typeof s?r[t[o]]=e[o]:r=n(n({},r),s)}return r}var l=Object.freeze({__proto__:null,tag:o,styles:s,createPromise:i,queryAll:function(e){return document.querySelectorAll(e)},edit:a,parseArgument:c});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('@keyframes ca-intro{0%{transform:scale(1);opacity:.5}1%{transform:scale(.5)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes ca-fade{0%{opacity:1}to{opacity:0}}.ca-icon-section{display:flex;text-align:center;justify-content:center;align-items:center;margin:0 1rem}div.ca-icons{border-radius:50%;height:50px;width:50px;transform:scale(1.5);font-family:Helvetica,Arial,Sans-Serif;margin:2rem 0}.ca-icons-error{display:flex;justify-content:center;align-items:center;border:2px solid #ff9292}.ca-icons-error:before{color:#f80000;transform:scale(2.5)}.ca-icons-info{display:flex;justify-content:center;align-items:center;border:2px solid #6ed2ff}.ca-icons-info:before{color:#0092d4;transform:scale(2.5)}.ca-icons-success{display:flex;justify-content:center;align-items:center;border:2px solid #9cef99}.ca-icons-success:before{color:#26cf20;transform:scale(2.5);transform:scale(2)}.ca-icons-warning{display:flex;justify-content:center;align-items:center;border:2px solid #ffe496}.ca-icons-warning:before{color:#fcba00;transform:scale(2.5)}.ca-icons-question{display:flex;justify-content:center;align-items:center;border:2px solid #a1a1a1}.ca-icons-question:before{color:#545454;transform:scale(2.5)}.ca-icons-info:before{content:"\\0069"}.ca-icons-success:before{content:"\\2713"}.ca-icons-error:before{content:"\\00d7"}.ca-icons-warning:before{content:"\\0021"}.ca-icons-question:before{content:"\\003F"}.ca-backdrop{position:fixed;height:100%;z-index:100;top:0;left:0;right:0;bottom:0;overflow-y:auto;text-align:center;background:rgba(0,0,0,.4);display:flex;padding:10px;align-items:center;justify-content:center}.ca-backdrop *,.ca-backdrop :after,.ca-backdrop :before,.ca-box{box-sizing:border-box}.ca-box{background:#fff;font-family:Lato,Helvetica Neue,Helvetica,sans-serif;-webkit-text-size-adjust:100%;z-index:200;width:100%;display:flex;flex-direction:column;border-radius:5px;padding:1rem;margin:auto;animation:ca-intro .3s;will-change:transform}@media screen and (min-width:700px){.ca-box{width:450px}}.ca-box button{-webkit-tap-highlight-color:transparent}.ca-box img{max-width:100%}.ca-box .ca-button-section{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-wrap:wrap;width:100%;margin-top:.5rem}@media screen and (min-width:320px){.ca-box .ca-button-section{flex-direction:row}}.ca-box .ca-content-section{text-align:center;padding:0 .35rem}.ca-box .ca-content-section *{overflow-wrap:break-word}.ca-box .ca-content-section h2.ca-title{font-size:1.9rem;color:#404040;font-weight:400;margin:.5rem 0}.ca-box .ca-content-section .ca-text{font-size:1.2rem;color:#4d4d4d;margin:0}.ca-box .ca-content-section .ca-inputs-form{display:flex;width:100%;align-items:center;justify-content:center;flex-direction:column;margin-top:1rem}.ca-box .ca-content-section .ca-inputs-form input[type=range]{width:100%}.ca-box footer{text-align:center;margin-top:1rem}.ca-box footer hr{border-width:medium 2px 2px;width:100%;margin-bottom:1rem;border-color:currentcolor #adadad #adadad;border-top:2px #adadad}.ca-box footer a{color:#03a0ff;text-decoration:none;font-weight:500;cursor:pointer;letter-spacing:1px}.ca-box footer a:hover{text-decoration:underline}.ca-btn{font-size:1rem;padding:.5rem;min-width:70px;border-radius:5px;border:none;color:#fff;margin:.35rem;user-select:none;font-weight:600}.ca-btn:focus{outline:none}.ca-btn-primary{--background:#3984ff;--focusColor:rgba(57,132,255,0.6);--hoverColor:#0664ff;background:var(--background);cursor:pointer}.ca-btn-primary:focus{box-shadow:0 0 0 3px var(--focusColor)}.ca-btn-primary:hover{background-color:var(--hoverColor)}.ca-btn-danger{--background:#ff4f4f;--focusColor:rgba(255,79,79,0.6);--hoverColor:#ff1c1c;background:var(--background);cursor:pointer}.ca-btn-danger:focus{box-shadow:0 0 0 3px var(--focusColor)}.ca-btn-danger:hover{background-color:var(--hoverColor)}.ca-input{padding:.5rem;border-radius:2.5px;border:1px solid #3984ff;margin:.5rem 0;font-size:1.2rem;color:#4d4d4d;min-width:calc(100% - 1rem);max-width:100%}.ca-input:focus{outline:none;border:1px solid rgba(57,132,255,.8);box-shadow:0 0 1px 2px rgba(57,132,255,.4)}');var u,f,p,h,d,m=o,g=s,y=a,b=i,w=c,v={};function x(e,t){var n="right"===t;g(e,{alignItems:n?"flex-end":"flex-start",justifyContent:n?"flex-end":"flex-start",textAlign:n?"right":"left"})}function k(e,t){var r="cancelButton"===e;return m("button",n(n({className:"ca-btn ca-btn-"+(r?"danger":"primary"),innerText:"string"==typeof t?t:r?"Cancel":"OK",dataset:["caxyz",e]},t),{},{onClick:function(){switch(e){case"cancelButton":case"confirmButton":v["cancelButton"===e?"isCanceled":"isConfirmed"]=!0;break;default:v.buttons[e]=!0}E()}}))}function C(e,t){var o=t.value,s=void 0===o?"":o,i=t.type,a=t.className,c=void 0===a?"":a,l=r(t,["value","type","className"]),u="textarea"===i?i:"input";return v.inputs[e]=s,m(u,n(n(n({},l),!("textarea"===i)&&{type:i}),{},{value:s,onChange:function(){v.inputs[e]=this.value},className:"range"===i?c:"ca-input ".concat(c)}))}function $(){var e=d||m("_");e.style.animation="ca-fade ".concat(150,"ms ease forwards"),setTimeout((function(){return e.remove()}),150)}function E(){clearTimeout(p),f(v),$(),v={},u=f=void 0}function _(){$();var e=w(arguments),t=e.backdropClick,r=e.title,o=e.text,s=e.image,i=e.icon,a=e.inputs,c=e.buttons,l=e.footer;u=b(),f=u.resolve,d=m("div",{className:"ca-backdrop",onClick:function(e){e.target===this&&t&&(v.isCanceled=!0,E())}}),h=m("div",{className:"ca-box",appendTo:d}),a&&(v.inputs={}),c&&(v.buttons={}),m("img",n({appendTo:s?h:null},s));var _={icon:m("div",{className:"ca-icon-section",appendTo:i?h:null}),content:m("div",{className:"ca-content-section",appendTo:h}),buttons:m("div",{className:"ca-button-section",appendTo:h}),footer:m("footer",{appendTo:l?h:null})},O={title:m("h2",{className:"ca-title",appendTo:r?_.content:null}),text:m("p",{className:"ca-text",appendTo:o?_.content:null}),form:m("form",{className:"ca-inputs-form",appendTo:a?_.content:null})};for(var T in e){var S=e[T];switch(T){case"icon":m("div",{className:"ca-icons ca-icons-".concat(S),appendTo:_.icon});break;case"footer":y(_[T],n({innerHTML:S},S));break;case"title":case"text":y(O[T],n({innerText:S},S));break;case"form":y(O[T],S);break;case"inputs":for(var A in S)O.form.appendChild(C(A,S[A]));break;case"cancelButton":case"confirmButton":if(!S)break;_.buttons.appendChild(k(T,S));break;case"modal":case"backdrop":g("modal"===T?h:d,S);break;case"buttons":for(var j in S)S[j]&&_.buttons.appendChild(k(j,S[j]));break;case"iconPosition":case"contentPosition":case"buttonsPosition":var B=_[T.replace("Position","")];if("center"===S)break;x(B,S);break;case"preConfirm":S instanceof Function&&S(h);case"animation":h.style.animation=S}}return document.body.appendChild(d),"number"==typeof e.timer&&(p=setTimeout(E,e.timer)),u.promise}return _.utils=l,_}()}));function Nn(e){let t,n,r,o,s;return{c(){t=C("img"),t.src!==(n=e[2])&&A(t,"src",n),A(t,"class","max-w-full max-h-60 cursor-pointer"),A(t,"alt",r=`sent by ${e[0]}`)},m(n,r){x(n,t,r),o||(s=T(t,"click",e[5]),o=!0)},p(e,o){4&o&&t.src!==(n=e[2])&&A(t,"src",n),1&o&&r!==(r=`sent by ${e[0]}`)&&A(t,"alt",r)},d(e){e&&k(t),o=!1,s()}}}function Rn(t){let n,r,o,s,i,a,c,l,u,f,p,h,d,m,g,y,b,w=t[0].substr(0,1).toUpperCase()+"",$=t[2]&&Nn(t);return{c(){var e,b,v;n=C("div"),r=C("div"),o=C("div"),s=E(w),i=_(),a=C("div"),c=C("div"),l=C("span"),u=E(t[0]),f=_(),p=C("span"),h=E(t[3]),d=_(),m=C("div"),g=E(t[1]),y=_(),$&&$.c(),A(o,"class","flex items-center justify-center h-10 w-10 rounded-full\n      bg-indigo-500 flex-shrink-0"),A(l,"class","font-bold text-blue-600 mr-2"),A(p,"class","text-blue-500 mr-2"),A(c,"class","flex"),e="word-break",b="break-word",a.style.setProperty(e,b,v?"important":""),A(a,"class","relative mr-3 text-sm py-2 px-4 shadow rounded-xl max-w-full"),N(a,"bg-indigo-100",t[4]),N(a,"bg-white",!t[4]),A(r,"class",`flex items-center ${t[6]}`),A(n,"class","rounded-lg max-w-full mb-2")},m(e,t){x(e,n,t),v(n,r),v(r,o),v(o,s),v(r,i),v(r,a),v(a,c),v(c,l),v(l,u),v(c,f),v(c,p),v(p,h),v(a,d),v(a,m),v(m,g),v(a,y),$&&$.m(a,null)},p(e,[t]){1&t&&w!==(w=e[0].substr(0,1).toUpperCase()+"")&&B(s,w),1&t&&B(u,e[0]),8&t&&B(h,e[3]),2&t&&B(g,e[1]),e[2]?$?$.p(e,t):($=Nn(e),$.c(),$.m(a,null)):$&&($.d(1),$=null),16&t&&N(a,"bg-indigo-100",e[4]),16&t&&N(a,"bg-white",!e[4])},i(e){b||X((()=>{b=ue(n,Bn,{}),b.start()}))},o:e,d(e){e&&k(n),$&&$.d()}}}function Fn(e,t,n){let{username:r=""}=t,{message:o=""}=t,{image:s=""}=t,{time:i=""}=t,{imageName:a=""}=t;let{isSelf:c=!1}=t;const l=c?"justify-start flex-row-reverse":"flex-row";return e.$$set=e=>{"username"in e&&n(0,r=e.username),"message"in e&&n(1,o=e.message),"image"in e&&n(2,s=e.image),"time"in e&&n(3,i=e.time),"imageName"in e&&n(7,a=e.imageName),"isSelf"in e&&n(4,c=e.isSelf)},[r,o,s,i,c,async function(){(await Pn({image:{src:s,alt:"sent image by user"},confirmButton:"Download",cancelButton:"Cancel"})).isConfirmed&&Pn.utils.tag("a",{href:s,download:a||"image.png"}).click()},l,a]}class Mn extends ve{constructor(e){super(),we(this,e,Fn,Rn,a,{username:0,message:1,image:2,time:3,imageName:7,isSelf:4})}}function Ln(t){let n,r,o,s,i,a,c=t[0].substr(0,1)+"";return{c(){n=C("button"),r=C("div"),o=E(c),s=_(),i=C("div"),a=E(t[0]),A(r,"class","flex items-center justify-center h-8 w-8 bg-indigo-200 rounded-full"),A(i,"class","ml-2 text-sm font-semibold"),A(n,"class","flex flex-row items-center rounded-xl p-2"),N(n,"bg-green-100",t[1]),N(n,"hover:bg-gray-100",!t[1])},m(e,t){x(e,n,t),v(n,r),v(r,o),v(n,s),v(n,i),v(i,a)},p(e,[t]){1&t&&c!==(c=e[0].substr(0,1)+"")&&B(o,c),1&t&&B(a,e[0]),2&t&&N(n,"bg-green-100",e[1]),2&t&&N(n,"hover:bg-gray-100",!e[1])},i:e,o:e,d(e){e&&k(n)}}}function Dn(e,t,n){let{name:r}=t,{isSelf:o}=t;return e.$$set=e=>{"name"in e&&n(0,r=e.name),"isSelf"in e&&n(1,o=e.isSelf)},[r,o]}class qn extends ve{constructor(e){super(),we(this,e,Dn,Ln,a,{name:0,isSelf:1})}}function In(t){let r,o,s,i,a,c=[t[1],{class:"fixed top-2 right-2 h-10 w-10 block md:hidden cursor-pointer"}],l={};for(let e=0;e<c.length;e+=1)l=n(l,c[e]);return{c(){r=C("div"),o=$("svg"),s=$("path"),A(s,"d","M10,1.445c-4.726,0-8.555,3.829-8.555,8.555c0,4.725,3.829,8.555,8.555,8.555c4.725,0,8.555-3.83,8.555-8.555C18.555,5.274,14.725,1.445,10,1.445\n      M10,17.654c-4.221,0-7.654-3.434-7.654-7.654c0-4.221,3.433-7.654,7.654-7.654c4.222,0,7.654,3.433,7.654,7.654C17.654,14.221,14.222,17.654,10,17.654\n      M14.39,10c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,9.55,14.39,9.752,14.39,10\n      M14.39,12.702c0,0.247-0.203,0.449-0.45,0.449H6.06c-0.248,0-0.45-0.202-0.45-0.449c0-0.248,0.203-0.451,0.45-0.451h7.879C14.187,12.251,14.39,12.454,14.39,12.702\n      M14.39,7.298c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,6.848,14.39,7.051,14.39,7.298"),A(o,"class","svg-icon fill-current text-blue-500"),A(o,"viewBox","0 0 20 20"),j(r,l)},m(e,n){x(e,r,n),v(r,o),v(o,s),i||(a=T(r,"click",t[2]),i=!0)},p(e,[t]){j(r,l=he(c,[2&t&&e[1],{class:"fixed top-2 right-2 h-10 w-10 block md:hidden cursor-pointer"}]))},i:e,o:e,d(e){e&&k(r),i=!1,a()}}}function Un(e,t,r){const o=[];let s=h(t,o);const i=function(){const e=I();return(t,n)=>{const r=e.$$.callbacks[t];if(r){const o=R(t,n);r.slice().forEach((t=>{t.call(e,o)}))}}}();return e.$$set=e=>{t=n(n({},t),p(e)),r(1,s=h(t,o))},[i,s,e=>i("click",e)]}class zn extends ve{constructor(e){super(),we(this,e,Un,In,a,{})}}var Hn=Ne((function(e,t){
/*!
     * Compressor.js v1.0.7
     * https://fengyuanchen.github.io/compressorjs
     *
     * Copyright 2018-present Chen Fengyuan
     * Released under the MIT license
     *
     * Date: 2020-11-28T07:13:17.754Z
     */
e.exports=function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return c(e,null==t?n.path:t)}},n.exports),n.exports}function c(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var l=a((function(e){"undefined"!=typeof window&&function(t){var n=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,r=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),o=r&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),s=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,a=(r||s)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,n,a,c,l,u,f,p,h;if(!(t=e.match(i)))throw new Error("invalid data URI");for(n=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),a=!!t[4],c=e.slice(t[0].length),l=a?atob(c):decodeURIComponent(c),u=new ArrayBuffer(l.length),f=new Uint8Array(u),p=0;p<l.length;p+=1)f[p]=l.charCodeAt(p);return r?new Blob([o?f:u],{type:n}):((h=new s).append(u),h.getBlob(n))};t.HTMLCanvasElement&&!n.toBlob&&(n.mozGetAsFile?n.toBlob=function(e,t,r){var o=this;setTimeout((function(){r&&n.toDataURL&&a?e(a(o.toDataURL(t,r))):e(o.mozGetAsFile("blob",t))}))}:n.toDataURL&&a&&(n.msToBlob?n.toBlob=function(e,t,r){var o=this;setTimeout((function(){(t&&"image/png"!==t||r)&&n.toDataURL&&a?e(a(o.toDataURL(t,r))):e(o.msToBlob(t))}))}:n.toBlob=function(e,t,n){var r=this;setTimeout((function(){e(a(r.toDataURL(t,n)))}))})),e.exports?e.exports=a:t.dataURLtoBlob=a}(window)})),u=function(e){return"undefined"!=typeof Blob&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))},f={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},p="undefined"!=typeof window&&void 0!==window.document?window:{},h=Array.prototype.slice;function d(e){return Array.from?Array.from(e):h.call(e)}var m=/^image\/.+$/;function g(e){return m.test(e)}function y(e){var t=g(e)?e.substr(6):"";return"jpeg"===t&&(t="jpg"),".".concat(t)}var b=String.fromCharCode;function w(e,t,n){var r,o="";for(n+=t,r=t;r<n;r+=1)o+=b(e.getUint8(r));return o}var v=p.btoa;function x(e,t){for(var n=[],r=8192,o=new Uint8Array(e);o.length>0;)n.push(b.apply(null,d(o.subarray(0,r)))),o=o.subarray(r);return"data:".concat(t,";base64,").concat(v(n.join("")))}function k(e){var t,n=new DataView(e);try{var r,o,s;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var i=n.byteLength,a=2;a+1<i;){if(255===n.getUint8(a)&&225===n.getUint8(a+1)){o=a;break}a+=1}if(o){var c=o+10;if("Exif"===w(n,o+4,4)){var l=n.getUint16(c);if(((r=18761===l)||19789===l)&&42===n.getUint16(c+2,r)){var u=n.getUint32(c+4,r);u>=8&&(s=c+u)}}}if(s){var f,p,h=n.getUint16(s,r);for(p=0;p<h;p+=1)if(f=s+12*p+2,274===n.getUint16(f,r)){f+=8,t=n.getUint16(f,r),n.setUint16(f,1,r);break}}}catch(e){t=1}return t}function C(e){var t=0,n=1,r=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:r}}var $=/\.\d*(?:0|9){12}\d*$/;function E(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return $.test(e)?Math.round(e*t)/t:e}var _=p.ArrayBuffer,O=p.FileReader,T=p.URL||p.webkitURL,S=/\.\w+$/,A=p.Compressor;return function(){function t(n,r){e(this,t),this.file=n,this.image=new Image,this.options=i(i({},f),r),this.aborted=!1,this.result=null,this.init()}return n(t,[{key:"init",value:function(){var e=this,t=this.file,n=this.options;if(u(t)){var r=t.type;if(g(r))if(T&&O)if(_||(n.checkOrientation=!1),T&&!n.checkOrientation)this.load({url:T.createObjectURL(t)});else{var s=new O,i=n.checkOrientation&&"image/jpeg"===r;this.reader=s,s.onload=function(n){var s=n.target.result,a={};if(i){var c=k(s);c>1||!T?(a.url=x(s,r),c>1&&o(a,C(c))):a.url=T.createObjectURL(t)}else a.url=s;e.load(a)},s.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},s.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},s.onloadend=function(){e.reader=null},i?s.readAsArrayBuffer(t):s.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var t=this,n=this.file,r=this.image;r.onload=function(){t.draw(i(i({},e),{},{naturalWidth:r.naturalWidth,naturalHeight:r.naturalHeight}))},r.onabort=function(){t.fail(new Error("Aborted to load the image."))},r.onerror=function(){t.fail(new Error("Failed to load the image."))},p.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(p.navigator.userAgent)&&(r.crossOrigin="anonymous"),r.alt=n.name,r.src=e.url}},{key:"draw",value:function(e){var t=this,n=e.naturalWidth,r=e.naturalHeight,o=e.rotate,s=void 0===o?0:o,i=e.scaleX,a=void 0===i?1:i,c=e.scaleY,u=void 0===c?1:c,f=this.file,p=this.image,h=this.options,d=document.createElement("canvas"),m=d.getContext("2d"),y=n/r,b=Math.abs(s)%180==90,w=Math.max(h.maxWidth,0)||1/0,v=Math.max(h.maxHeight,0)||1/0,x=Math.max(h.minWidth,0)||0,k=Math.max(h.minHeight,0)||0,C=Math.max(h.width,0)||n,$=Math.max(h.height,0)||r;if(b){var _=[v,w];w=_[0],v=_[1];var O=[k,x];x=O[0],k=O[1];var T=[$,C];C=T[0],$=T[1]}w<1/0&&v<1/0?v*y>w?v=w/y:w=v*y:w<1/0?v=w/y:v<1/0&&(w=v*y),x>0&&k>0?k*y>x?k=x/y:x=k*y:x>0?k=x/y:k>0&&(x=k*y),$*y>C?$=C/y:C=$*y;var S=-(C=Math.floor(E(Math.min(Math.max(C,x),w))))/2,A=-($=Math.floor(E(Math.min(Math.max($,k),v))))/2,j=C,B=$;if(b){var P=[$,C];C=P[0],$=P[1]}d.width=C,d.height=$,g(h.mimeType)||(h.mimeType=f.type);var N="transparent";if(f.size>h.convertSize&&"image/png"===h.mimeType&&(N="#fff",h.mimeType="image/jpeg"),m.fillStyle=N,m.fillRect(0,0,C,$),h.beforeDraw&&h.beforeDraw.call(this,m,d),!this.aborted&&(m.save(),m.translate(C/2,$/2),m.rotate(s*Math.PI/180),m.scale(a,u),m.drawImage(p,S,A,j,B),m.restore(),h.drew&&h.drew.call(this,m,d),!this.aborted)){var R=function(e){t.aborted||t.done({naturalWidth:n,naturalHeight:r,result:e})};d.toBlob?d.toBlob(R,h.mimeType,h.quality):R(l(d.toDataURL(h.mimeType,h.quality)))}}},{key:"done",value:function(e){var t=e.naturalWidth,n=e.naturalHeight,r=e.result,o=this.file,s=this.image,i=this.options;if(T&&!i.checkOrientation&&T.revokeObjectURL(s.src),r)if(i.strict&&r.size>o.size&&i.mimeType===o.type&&!(i.width>t||i.height>n||i.minWidth>t||i.minHeight>n))r=o;else{var a=new Date;r.lastModified=a.getTime(),r.lastModifiedDate=a,r.name=o.name,r.name&&r.type!==o.type&&(r.name=r.name.replace(S,y(r.type)))}else r=o;this.result=r,i.success&&i.success.call(this,r)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=A,t}},{key:"setDefaults",value:function(e){o(f,e)}}]),t}()}()}));function Wn(e){return new Promise((t=>{const n=new FileReader;function r(){Pn("Error","Cannot send the image","error")}n.onload=function(){t(n.result)},n.onerror=r,new Hn(e,{width:600,quality:.6,success(e){n.readAsDataURL(e)},error:r})}))}const Vn=e=>({}),Kn=e=>({});function Yn(e){let t,r,o,i,a,c,u,p,h,d;const m=e[6].default,g=l(m,e,e[5],null),y=e[6].icon,b=l(y,e,e[5],Kn);let w=[e[3],{type:"file"},{hidden:!0},{id:e[2]}],$={};for(let e=0;e<w.length;e+=1)$=n($,w[e]);return{c(){t=C("div"),r=C("label"),o=C("span"),g&&g.c(),i=_(),b&&b.c(),a=_(),c=C("input"),A(o,"class","inline-block"),A(r,"class","flex items-center justify-center cursor-pointer"),A(r,"for",e[2]),j(c,$),A(t,"class",u=e[1]+" cursor-pointer")},m(n,s){x(n,t,s),v(t,r),v(r,o),g&&g.m(o,null),v(r,i),b&&b.m(r,null),v(t,a),v(t,c),e[9](c),p=!0,h||(d=[T(c,"change",e[7]),T(c,"input",e[8])],h=!0)},p(e,[n]){g&&g.p&&32&n&&f(g,m,e,e[5],n,null,null),b&&b.p&&32&n&&f(b,y,e,e[5],n,Vn,Kn),j(c,$=he(w,[8&n&&e[3],{type:"file"},{hidden:!0},{id:e[2]}])),(!p||2&n&&u!==(u=e[1]+" cursor-pointer"))&&A(t,"class",u)},i(e){p||(ae(g,e),ae(b,e),p=!0)},o(e){ce(g,e),ce(b,e),p=!1},d(n){n&&k(t),g&&g.d(n),b&&b.d(n),e[9](null),h=!1,s(d)}}}function Xn(e,t,r){const o=["label","input","class"];let s=h(t,o),{$$slots:i={},$$scope:a}=t,{label:c=""}=t,{input:l=""}=t,{class:u}=t;const f=function(e="",t=!0){let n=0;return{create:()=>`${t?Date.now().toString(16):""}${e}${n++}`}}("LABEL"),d=c||f.create();return e.$$set=e=>{t=n(n({},t),p(e)),r(3,s=h(t,o)),"label"in e&&r(4,c=e.label),"input"in e&&r(0,l=e.input),"class"in e&&r(1,u=e.class),"$$scope"in e&&r(5,a=e.$$scope)},[l,u,d,s,c,a,i,function(t){U(e,t)},function(t){U(e,t)},function(e){H[e?"unshift":"push"]((()=>{l=e,r(0,l)}))}]}class Jn extends ve{constructor(e){super(),we(this,e,Xn,Yn,a,{label:4,input:0,class:1})}}function Zn(e,t,n){const r=e.slice();return r[20]=t[n].id,r[13]=t[n].room,r[21]=function(e,t){const n={};for(const r in e)d(e,r)&&-1===t.indexOf(r)&&(n[r]=e[r]);return n}(t[n],["id","room"]),r}function Gn(e,t,n){const r=e.slice();return r[12]=t[n].username,r[20]=t[n].id,r[24]=t[n].isSelf,r}function Qn(e,t){let n,r,o;return r=new qn({props:{name:t[12],isSelf:t[24]}}),{key:e,first:null,c(){n=O(),me(r.$$.fragment),this.first=n},m(e,t){x(e,n,t),ge(r,e,t),o=!0},p(e,n){t=e;const o={};128&n&&(o.name=t[12]),128&n&&(o.isSelf=t[24]),r.$set(o)},i(e){o||(ae(r.$$.fragment,e),o=!0)},o(e){ce(r.$$.fragment,e),o=!1},d(e){e&&k(n),ye(r,e)}}}function er(e){let t;return{c(){t=E("Leave Room")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function tr(e){let t;return{c(){t=E("Clear Chat")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function nr(e,t){let r,o,s;const i=[t[21]];let a={};for(let e=0;e<i.length;e+=1)a=n(a,i[e]);return o=new Mn({props:a}),{key:e,first:null,c(){r=O(),me(o.$$.fragment),this.first=r},m(e,t){x(e,r,t),ge(o,e,t),s=!0},p(e,n){t=e;const r=2&n?he(i,[(s=t[21],"object"==typeof s&&null!==s?s:{})]):{};var s;o.$set(r)},i(e){s||(ae(o.$$.fragment,e),s=!0)},o(e){ce(o.$$.fragment,e),s=!1},d(e){e&&k(r),ye(o,e)}}}function rr(e){let t,n,r,o;return{c(){t=$("svg"),n=$("rect"),r=$("circle"),o=$("polyline"),A(n,"x","3"),A(n,"y","3"),A(n,"width","18"),A(n,"height","18"),A(n,"rx","2"),A(n,"ry","2"),A(r,"cx","8.5"),A(r,"cy","8.5"),A(r,"r","1.5"),A(o,"points","21 15 16 10 5 21"),A(t,"slot","icon"),A(t,"xmlns","http://www.w3.org/2000/svg"),A(t,"width","30"),A(t,"height","30"),A(t,"viewBox","0 0 24 24"),A(t,"fill","none"),A(t,"stroke","#3b82f6"),A(t,"stroke-width","2"),A(t,"stroke-linecap","round"),A(t,"stroke-linejoin","round")},m(e,s){x(e,t,s),v(t,n),v(t,r),v(t,o)},d(e){e&&k(t)}}}function or(e){let t,n;return{c(){t=$("svg"),n=$("path"),A(n,"stroke-linecap","round"),A(n,"stroke-linejoin","round"),A(n,"stroke-width","2"),A(n,"d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"),A(t,"slot","icon"),A(t,"class","w-4 h-4 transform rotate-90 ml-1"),A(t,"fill","none"),A(t,"stroke","currentColor"),A(t,"viewBox","0 0 24 24"),A(t,"xmlns","http://www.w3.org/2000/svg")},m(e,r){x(e,t,r),v(t,n)},d(e){e&&k(t)}}}function sr(t){let n;return{c(){n=E("Send\n          ")},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function ir(e){let t,n,r,o,i,a,c,l,u,f,p,h,d,m,g,y,b,w=[],$=new Map,E=e[1];const O=e=>e[20];for(let t=0;t<E.length;t+=1){let n=Zn(e,E,t),r=O(n);$.set(r,w[t]=nr(r,n))}function j(t){e[17].call(null,t)}let B={accept:"image/*",class:"absolute right-0 bottom-0",$$slots:{icon:[rr]},$$scope:{ctx:e}};function N(t){e[18].call(null,t)}void 0!==e[4]&&(B.input=e[4]),f=new Jn({props:B}),H.push((()=>de(f,"input",j))),f.$on("change",e[8]);let R={disabled:e[6],class:" ml-2",$$slots:{default:[sr],icon:[or]},$$scope:{ctx:e}};return void 0!==e[5]&&(R.ref=e[5]),d=new _e({props:R}),H.push((()=>de(d,"ref",N))),{c(){t=C("div"),n=C("div"),r=C("div"),o=C("div");for(let e=0;e<w.length;e+=1)w[e].c();i=_(),a=C("form"),c=C("div"),l=C("textarea"),u=_(),me(f.$$.fragment),h=_(),me(d.$$.fragment),A(o,"class","flex flex-col"),A(r,"class","flex flex-col h-full"),A(n,"class","flex flex-col h-full overflow-x-auto mb-4 smoo"),A(l,"autocomplete","off"),A(l,"class","w-full h-12 shadow-md block py-2 px-1 pr-8 mt-2 text-gray-800\n            appearance-none border-b-2 border-gray-200 focus:text-gray-500\n            focus:outline-none focus:border-gray-200 resize-none rounded-md"),A(l,"name","message"),A(c,"class","w-full relative"),A(a,"class","flex items-center justify-center"),A(t,"class","flex flex-col flex-auto flex-shrink-0 rounded-2xl h-full p-4")},m(s,p){x(s,t,p),v(t,n),v(n,r),v(r,o);for(let e=0;e<w.length;e+=1)w[e].m(o,null);e[15](n),v(t,i),v(t,a),v(a,c),v(c,l),P(l,e[0]),v(c,u),ge(f,c,null),v(a,h),ge(d,a,null),g=!0,y||(b=[T(l,"input",e[16]),T(l,"keydown",cr),T(a,"submit",S(e[8]))],y=!0)},p(e,t){2&t&&(E=e[1],se(),w=pe(w,t,O,1,e,E,$,o,fe,nr,null,Zn),ie()),1&t&&P(l,e[0]);const n={};134217728&t&&(n.$$scope={dirty:t,ctx:e}),!p&&16&t&&(p=!0,n.input=e[4],J((()=>p=!1))),f.$set(n);const r={};64&t&&(r.disabled=e[6]),134217728&t&&(r.$$scope={dirty:t,ctx:e}),!m&&32&t&&(m=!0,r.ref=e[5],J((()=>m=!1))),d.$set(r)},i(e){if(!g){for(let e=0;e<E.length;e+=1)ae(w[e]);ae(f.$$.fragment,e),ae(d.$$.fragment,e),g=!0}},o(e){for(let e=0;e<w.length;e+=1)ce(w[e]);ce(f.$$.fragment,e),ce(d.$$.fragment,e),g=!1},d(n){n&&k(t);for(let e=0;e<w.length;e+=1)w[e].d();e[15](null),ye(f),ye(d),y=!1,s(b)}}}function ar(e){let t,n,r,o,s,i,a,c,l,u,f,p,h,d,m,g,y,b,w,$,O,S,j,B,P,R,F,M,L,D=[],q=new Map;n=new zn({}),n.$on("click",e[14]),s=new Be({});let I=e[7];const U=e=>e[20];for(let t=0;t<I.length;t+=1){let n=Gn(e,I,t),r=U(n);q.set(r,D[t]=Qn(r,n))}return S=new _e({props:{class:"w-full",danger:!0,$$slots:{default:[er]},$$scope:{ctx:e}}}),S.$on("click",e[9]),B=new _e({props:{class:"w-full",$$slots:{default:[tr]},$$scope:{ctx:e}}}),B.$on("click",e[10]),R=new jn({props:{class:"flex flex-col flex-auto h-full p-2 bg-gray-200",$$slots:{default:[ir]},$$scope:{ctx:e}}}),{c(){t=C("div"),me(n.$$.fragment),r=_(),o=C("div"),me(s.$$.fragment),i=_(),a=C("div"),c=C("span"),c.textContent="Room:",l=_(),u=E(e[13]),f=_(),p=C("div"),h=C("span"),h.textContent="Name:",d=_(),m=E(e[12]),g=_(),y=C("div"),b=C("div"),b.innerHTML='<span class="font-bold">Active Conversations</span>',w=_(),$=C("div");for(let e=0;e<D.length;e+=1)D[e].c();O=_(),me(S.$$.fragment),j=_(),me(B.$$.fragment),P=_(),me(R.$$.fragment),A(c,"class","font-bold"),A(a,"class","text-md mt-5"),A(h,"class","font-bold"),A(p,"class","text-md mt-5"),A(b,"class","flex flex-row items-center justify-between text-xs"),A($,"class","flex flex-col space-y-1 -mx-2 h-50 mb-2 overflow-y-auto"),A(y,"class","flex flex-col mt-8"),A(o,"class","flex-col py-8 px-3 md:w-64 w-2/4 bg-white flex-shrink-0\n    overflow-auto fixed md:static top-0 h-screen z-50 transform duration-150 md:transform-none"),N(o,"-translate-x-full",!e[3]),A(t,"class","flex md:flex-row flex-col h-full w-full overflow-x-hidden\n  bg-transparent ")},m(k,C){x(k,t,C),ge(n,t,null),v(t,r),v(t,o),ge(s,o,null),v(o,i),v(o,a),v(a,c),v(a,l),v(a,u),v(o,f),v(o,p),v(p,h),v(p,d),v(p,m),v(o,g),v(o,y),v(y,b),v(y,w),v(y,$);for(let e=0;e<D.length;e+=1)D[e].m($,null);v(o,O),ge(S,o,null),v(o,j),ge(B,o,null),v(t,P),ge(R,t,null),F=!0,M||(L=T(window,"keydown",e[11]),M=!0)},p(e,[t]){128&t&&(I=e[7],se(),D=pe(D,t,U,1,e,I,q,$,fe,Qn,null,Gn),ie());const n={};134217728&t&&(n.$$scope={dirty:t,ctx:e}),S.$set(n);const r={};134217728&t&&(r.$$scope={dirty:t,ctx:e}),B.$set(r),8&t&&N(o,"-translate-x-full",!e[3]);const s={};134217847&t&&(s.$$scope={dirty:t,ctx:e}),R.$set(s)},i(e){if(!F){ae(n.$$.fragment,e),ae(s.$$.fragment,e);for(let e=0;e<I.length;e+=1)ae(D[e]);ae(S.$$.fragment,e),ae(B.$$.fragment,e),ae(R.$$.fragment,e),F=!0}},o(e){ce(n.$$.fragment,e),ce(s.$$.fragment,e);for(let e=0;e<D.length;e+=1)ce(D[e]);ce(S.$$.fragment,e),ce(B.$$.fragment,e),ce(R.$$.fragment,e),F=!1},d(e){e&&k(t),ye(n),ye(s);for(let e=0;e<D.length;e+=1)D[e].d();ye(S),ye(B),ye(R),M=!1,L()}}}const cr=e=>"Enter"===e.key&&e.preventDefault();function lr(e,t,n){let r,o;c(e,xn,(e=>n(19,r=e))),c(e,vn,(e=>n(7,o=e)));const{username:s,room:i}=r;let a,l,u,f,p="",h=[],d=!1;var m;m=()=>{a&&(n(2,a.scrollTop=a.scrollHeight,a),a.focus())},I().$$.after_update.push(m),kn.on("server-message",(e=>{n(1,h=[...h,e])}));return[p,h,a,l,u,f,d,o,async function(e){const t=u.files[0]||null;if("FORM"===e.target.tagName&&!p)return;n(6,d=!0);const r={username:s,message:p,imageName:t&&t.name,image:t&&await Wn(t),room:i};kn.emit("send-message",r,(e=>{e.isSelf=!0,n(1,h=[...h,e]),n(0,p=""),n(4,u.value="",u),n(6,d=!1)}))},function(){localStorage.removeItem(wn),vn.set([]),xn.set(null),kn.emit("user-leave")},function(){n(1,h=[])},function(e){"Enter"===e.key&&f.click()},s,i,()=>n(3,l=!l),function(e){H[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(){p=this.value,n(0,p)},function(e){u=e,n(4,u)},function(e){f=e,n(5,f)}]}class ur extends ve{constructor(e){super(),we(this,e,lr,ar,a,{})}}function fr(e){let t,n;return t=new Tn({}),{c(){me(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(ae(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function pr(e){let t,n;return t=new ur({}),{c(){me(t.$$.fragment)},m(e,r){ge(t,e,r),n=!0},i(e){n||(ae(t.$$.fragment,e),n=!0)},o(e){ce(t.$$.fragment,e),n=!1},d(e){ye(t,e)}}}function hr(e){let t,n,r,o,s,i;t=new xe({});const a=[pr,fr],c=[];function l(e,t){return e[0]?0:1}return o=l(e),s=c[o]=a[o](e),{c(){me(t.$$.fragment),n=_(),r=C("main"),s.c(),A(r,"class","bg-gray-300 h-screen flex items-center justify-center w-full")},m(e,s){ge(t,e,s),x(e,n,s),x(e,r,s),c[o].m(r,null),i=!0},p(e,[t]){let n=o;o=l(e),o!==n&&(se(),ce(c[n],1,1,(()=>{c[n]=null})),ie(),s=c[o],s||(s=c[o]=a[o](e),s.c()),ae(s,1),s.m(r,null))},i(e){i||(ae(t.$$.fragment,e),ae(s),i=!0)},o(e){ce(t.$$.fragment,e),ce(s),i=!1},d(e){ye(t,e),e&&k(n),e&&k(r),c[o].d()}}}function dr(e,t,n){let r;return c(e,xn,(e=>n(0,r=e))),[r]}return new class extends ve{constructor(e){super(),we(this,e,dr,hr,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
