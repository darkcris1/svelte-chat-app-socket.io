var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function o(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(o)}function i(e){return"function"==typeof e}function c(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(e,t,n,o){if(e){const r=u(e,t,n,o);return e[0](r)}}function u(e,t,o,r){return e[1]&&r?n(o.ctx.slice(),e[1](r(t))):o.ctx}function f(e,t,n,o,r,s,i){const c=function(e,t,n,o){if(e[2]&&o){const r=e[2](o(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let o=0;o<n;o+=1)e[o]=t.dirty[o]|r[o];return e}return t.dirty|r}return t.dirty}(t,o,r,s);if(c){const r=u(t,n,o,i);e.p(r,c)}}function p(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function d(e,t){const n={};t=new Set(t);for(const o in e)t.has(o)||"$"===o[0]||(n[o]=e[o]);return n}const h=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),y=m?e=>requestAnimationFrame(e):e;const b=new Set;function w(e){b.forEach((t=>{t.c(e)||(b.delete(t),t.f())})),0!==b.size&&y(w)}function v(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function C(e){return document.createElement(e)}function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function E(){return _(" ")}function S(){return _("")}function O(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function T(e){return function(t){return t.preventDefault(),e.call(this,t)}}function A(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function j(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const o in t)null==t[o]?e.removeAttribute(o):"style"===o?e.style.cssText=t[o]:"__value"===o?e.value=e[o]=t[o]:n[o]&&n[o].set?e[o]=t[o]:A(e,o,t[o])}function N(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function P(e,t){e.value=null==t?"":t}function B(e,t,n){e.classList[n?"add":"remove"](t)}function F(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const R=new Set;let L,M=0;function D(e,t){const n=(e.style.animation||"").split(", "),o=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),r=n.length-o.length;r&&(e.style.animation=o.join(", "),M-=r,M||y((()=>{M||(R.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),R.clear())})))}function q(e){L=e}function I(){if(!L)throw new Error("Function called outside component initialization");return L}function z(){const e=I();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=F(t,n);o.slice().forEach((t=>{t.call(e,r)}))}}}function H(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const V=[],K=[],U=[],Y=[],W=Promise.resolve();let X=!1;function J(e){U.push(e)}function Z(e){Y.push(e)}let G=!1;const Q=new Set;function ee(){if(!G){G=!0;do{for(let e=0;e<V.length;e+=1){const t=V[e];q(t),te(t.$$)}for(q(null),V.length=0;K.length;)K.pop()();for(let e=0;e<U.length;e+=1){const t=U[e];Q.has(t)||(Q.add(t),t())}U.length=0}while(V.length);for(;Y.length;)Y.pop()();X=!1,G=!1,Q.clear()}}function te(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}let ne;function oe(e,t,n){e.dispatchEvent(F(`${t?"intro":"outro"}${n}`))}const re=new Set;let se;function ie(){se={r:0,c:[],p:se}}function ce(){se.r||s(se.c),se=se.p}function ae(e,t){e&&e.i&&(re.delete(e),e.i(t))}function le(e,t,n,o){if(e&&e.o){if(re.has(e))return;re.add(e),se.c.push((()=>{re.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}}const ue={duration:0};function fe(n,o,r){let s,c,a=o(n,r),l=!1,u=0;function f(){s&&D(n,s)}function p(){const{delay:o=0,duration:r=300,easing:i=t,tick:p=e,css:d}=a||ue;d&&(s=function(e,t,n,o,r,s,i,c=0){const a=16.666/o;let l="{\n";for(let e=0;e<=1;e+=a){const o=t+(n-t)*s(e);l+=100*e+`%{${i(o,1-o)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${c}`,p=e.ownerDocument;R.add(p);const d=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(C("style")).sheet),h=p.__svelte_rules||(p.__svelte_rules={});h[f]||(h[f]=!0,d.insertRule(`@keyframes ${f} ${u}`,d.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${f} ${o}ms linear ${r}ms 1 both`,M+=1,f}(n,0,1,r,o,i,d,u++)),p(0,1);const h=g()+o,m=h+r;c&&c.abort(),l=!0,J((()=>oe(n,!0,"start"))),c=function(e){let t;return 0===b.size&&y(w),{promise:new Promise((n=>{b.add(t={c:e,f:n})})),abort(){b.delete(t)}}}((e=>{if(l){if(e>=m)return p(1,0),oe(n,!0,"end"),f(),l=!1;if(e>=h){const t=i((e-h)/r);p(t,1-t)}}return l}))}let d=!1;return{start(){d||(D(n),i(a)?(a=a(),(ne||(ne=Promise.resolve(),ne.then((()=>{ne=null}))),ne).then(p)):p())},invalidate(){d=!1},end(){l&&(f(),l=!1)}}}function pe(e,t){le(e,1,1,(()=>{t.delete(e.key)}))}function de(e,t,n,o,r,s,i,c,a,l,u,f){let p=e.length,d=s.length,h=p;const m={};for(;h--;)m[e[h].key]=h;const g=[],y=new Map,b=new Map;for(h=d;h--;){const e=f(r,s,h),c=n(e);let a=i.get(c);a?o&&a.p(e,t):(a=l(c,e),a.c()),y.set(c,g[h]=a),c in m&&b.set(c,Math.abs(h-m[c]))}const w=new Set,v=new Set;function x(e){ae(e,1),e.m(c,u),i.set(e.key,e),u=e.first,d--}for(;p&&d;){const t=g[d-1],n=e[p-1],o=t.key,r=n.key;t===n?(u=t.first,p--,d--):y.has(r)?!i.has(o)||w.has(o)?x(t):v.has(r)?p--:b.get(o)>b.get(r)?(v.add(o),x(t)):(w.add(r),p--):(a(n,i),p--)}for(;p--;){const t=e[p];y.has(t.key)||a(t,i)}for(;d;)x(g[d-1]);return g}function he(e,t){const n={},o={},r={$$scope:1};let s=e.length;for(;s--;){const i=e[s],c=t[s];if(c){for(const e in i)e in c||(o[e]=1);for(const e in c)r[e]||(n[e]=c[e],r[e]=1);e[s]=c}else for(const e in i)r[e]=1}for(const e in o)e in n||(n[e]=void 0);return n}function me(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function ge(e){e&&e.c()}function ye(e,t,n){const{fragment:r,on_mount:c,on_destroy:a,after_update:l}=e.$$;r&&r.m(t,n),J((()=>{const t=c.map(o).filter(i);a?a.push(...t):s(t),e.$$.on_mount=[]})),l.forEach(J)}function be(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t){-1===e.$$.dirty[0]&&(V.push(e),X||(X=!0,W.then(ee)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(t,n,o,i,c,a,l=[-1]){const u=L;q(t);const f=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:c,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l,skip_bound:!1};let p=!1;if(f.ctx=o?o(t,n.props||{},((e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),p&&we(t,e)),n})):[],f.update(),p=!0,s(f.before_update),f.fragment=!!i&&i(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&ae(t.$$.fragment),ye(t,n.target,n.anchor),ee()}q(u)}class xe{$destroy(){be(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class ke extends xe{constructor(e){super(),ve(this,e,null,null,c,{})}}const Ce=e=>({}),$e=e=>({});function _e(e){let t,o,r,s,i,c;const a=e[5].default,u=l(a,e,e[4],null),p=e[5].icon,d=l(p,e,e[4],$e);let h=[e[3],{class:r=`p-2 my-2 disabled:opacity-50 disabled:cursor-default text-white rounded-md focus:outline-none\n  focus:ring-2 ring-blue-300 ring-offset-2 ${e[3].class} flex items-center justify-center shadow-xl`}],m={};for(let e=0;e<h.length;e+=1)m=n(m,h[e]);return{c(){t=C("button"),u&&u.c(),o=E(),d&&d.c(),j(t,m),B(t,"bg-blue-500",!e[1]),B(t,"bg-red-500",e[1])},m(n,r){x(n,t,r),u&&u.m(t,null),v(t,o),d&&d.m(t,null),e[6](t),s=!0,i||(c=O(t,"click",e[2]),i=!0)},p(e,[n]){u&&u.p&&16&n&&f(u,a,e,e[4],n,null,null),d&&d.p&&16&n&&f(d,p,e,e[4],n,Ce,$e),j(t,m=he(h,[8&n&&e[3],(!s||8&n&&r!==(r=`p-2 my-2 disabled:opacity-50 disabled:cursor-default text-white rounded-md focus:outline-none\n  focus:ring-2 ring-blue-300 ring-offset-2 ${e[3].class} flex items-center justify-center shadow-xl`))&&{class:r}])),B(t,"bg-blue-500",!e[1]),B(t,"bg-red-500",e[1])},i(e){s||(ae(u,e),ae(d,e),s=!0)},o(e){le(u,e),le(d,e),s=!1},d(n){n&&k(t),u&&u.d(n),d&&d.d(n),e[6](null),i=!1,c()}}}function Ee(e,t,o){const r=["danger","ref"];let s=d(t,r),{$$slots:i={},$$scope:c}=t,{danger:a=!1}=t,{ref:l=""}=t;const u=z();return e.$$set=e=>{t=n(n({},t),p(e)),o(3,s=d(t,r)),"danger"in e&&o(1,a=e.danger),"ref"in e&&o(0,l=e.ref),"$$scope"in e&&o(4,c=e.$$scope)},[l,a,function(e){u("click",e)},s,c,i,function(e){K[e?"unshift":"push"]((()=>{l=e,o(0,l)}))}]}class Se extends xe{constructor(e){super(),ve(this,e,Ee,_e,c,{danger:1,ref:0})}}function Oe(e){let t,n;return{c(){t=C("div"),n=_(e[1]),A(t,"class","p-2 bg-red-300 text-red-800 rounded border border-red-600")},m(e,o){x(e,t,o),v(t,n)},p(e,t){2&t&&N(n,e[1])},d(e){e&&k(t)}}}function Te(t){let o,r,s,i,c,a,l,u,f,p=[{id:t[2]},{name:"password"},t[4],{class:"block w-full py-3 px-1 mt-2 text-gray-800 appearance-none border-b-2\r\n    border-gray-200 focus:text-gray-500 focus:outline-none focus:border-gray-200"}],d={};for(let e=0;e<p.length;e+=1)d=n(d,p[e]);let h=t[1]&&Oe(t);return{c(){o=C("div"),r=C("label"),s=_(t[2]),i=E(),c=C("input"),a=E(),h&&h.c(),A(r,"for",t[2]),A(r,"class","block mt-2 text-xs font-semibold text-gray-600 uppercase"),j(c,d),A(o,"class",l=t[3].class)},m(e,n){x(e,o,n),v(o,r),v(r,s),v(o,i),v(o,c),P(c,t[0]),v(o,a),h&&h.m(o,null),u||(f=O(c,"input",t[5]),u=!0)},p(e,[t]){4&t&&N(s,e[2]),4&t&&A(r,"for",e[2]),j(c,d=he(p,[4&t&&{id:e[2]},{name:"password"},16&t&&e[4],{class:"block w-full py-3 px-1 mt-2 text-gray-800 appearance-none border-b-2\r\n    border-gray-200 focus:text-gray-500 focus:outline-none focus:border-gray-200"}])),1&t&&c.value!==e[0]&&P(c,e[0]),e[1]?h?h.p(e,t):(h=Oe(e),h.c(),h.m(o,null)):h&&(h.d(1),h=null),8&t&&l!==(l=e[3].class)&&A(o,"class",l)},i:e,o:e,d(e){e&&k(o),h&&h.d(),u=!1,f()}}}function Ae(e,t,o){const r=["error","label","value"];let s=d(t,r),{error:i=null}=t,{label:c=""}=t,{value:a=""}=t;return e.$$set=e=>{o(3,t=n(n({},t),p(e))),o(4,s=d(t,r)),"error"in e&&o(1,i=e.error),"label"in e&&o(2,c=e.label),"value"in e&&o(0,a=e.value)},t=p(t),[a,i,c,t,s,function(){a=this.value,o(0,a)}]}class je extends xe{constructor(e){super(),ve(this,e,Ae,Te,c,{error:1,label:2,value:0})}}function Ne(t){let n;return{c(){n=C("div"),n.innerHTML='<div class="flex items-center justify-center rounded-2xl text-indigo-700\n    bg-indigo-100 h-10 w-10"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2\n        2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"></path></svg></div> \n  <div class="ml-2 font-bold text-2xl">Chat App</div>',A(n,"class","flex flex-row items-center justify-center h-12 w-full")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}class Pe extends xe{constructor(e){super(),ve(this,e,null,Ne,c,{})}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Be(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fe(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&n.path)}},n.exports),n.exports}var Re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Le=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Me=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var r,s,i=Re.exec(e||""),c={},a=14;a--;)c[Le[a]]=i[a]||"";return-1!=n&&-1!=o&&(c.source=t,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function(e,t){var n=/\/{2,9}/g,o=t.replace(n,"/").split("/");"/"!=t.substr(0,1)&&0!==t.length||o.splice(0,1);"/"==t.substr(t.length-1,1)&&o.splice(o.length-1,1);return o}(0,c.path),c.queryKey=(r=c.query,s={},r.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(s[t]=n)})),s),c};var De=1e3,qe=60*De,Ie=60*qe,ze=24*Ie,He=7*ze,Ve=365.25*ze,Ke=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return n*Ve;case"weeks":case"week":case"w":return n*He;case"days":case"day":case"d":return n*ze;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ie;case"minutes":case"minute":case"mins":case"min":case"m":return n*qe;case"seconds":case"second":case"secs":case"sec":case"s":return n*De;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}(e);if("number"===n&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=ze)return Ue(e,t,ze,"day");if(t>=Ie)return Ue(e,t,Ie,"hour");if(t>=qe)return Ue(e,t,qe,"minute");if(t>=De)return Ue(e,t,De,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=ze)return Math.round(e/ze)+"d";if(t>=Ie)return Math.round(e/Ie)+"h";if(t>=qe)return Math.round(e/qe)+"m";if(t>=De)return Math.round(e/De)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Ue(e,t,n,o){var r=t>=1.5*n;return Math.round(e/n)+" "+o+(r?"s":"")}var Ye=function(e){function t(e){let o,r=null;function s(...e){if(!s.enabled)return;const n=s,r=Number(new Date),i=r-(o||r);n.diff=i,n.prev=o,n.curr=r,o=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let c=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((o,r)=>{if("%%"===o)return"%";c++;const s=t.formatters[r];if("function"==typeof s){const t=e[c];o=s.call(n,t),e.splice(c,1),c--}return o})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return s.namespace=e,s.useColors=t.useColors(),s.color=t.selectColor(e),s.extend=n,s.destroy=t.destroy,Object.defineProperty(s,"enabled",{enumerable:!0,configurable:!1,get:()=>null===r?t.enabled(e):r,set:e=>{r=e}}),"function"==typeof t.init&&t.init(s),s}function n(e,n){const o=t(this.namespace+(void 0===n?":":n)+e);return o.log=this.log,o}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const o=("string"==typeof e?e:"").split(/[\s,]+/),r=o.length;for(n=0;n<r;n++)o[n]&&("-"===(e=o[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=Ke,t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t},We=Fe((function(e,t){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let o=0,r=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(o++,"%c"===e&&(r=o))})),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=Ye(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}})),Xe=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const n=We("socket.io-client:url");t.url=function(e,t){let o=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(n("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),n("parse %s",e),o=Me(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";const r=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+r+":"+o.port,o.href=o.protocol+"://"+r+(t&&t.port===o.port?"":":"+o.port),o}})),Je=Fe((function(e){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}})),Ze="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")(),Ge=function(e){const t=e.xdomain,n=e.xscheme,o=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Je))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&o)return new XDomainRequest}catch(e){}if(!t)try{return new(Ze[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}};const Qe=Object.create(null);Qe.open="0",Qe.close="1",Qe.ping="2",Qe.pong="3",Qe.message="4",Qe.upgrade="5",Qe.noop="6";const et=Object.create(null);Object.keys(Qe).forEach((e=>{et[Qe[e]]=e}));var tt={PACKET_TYPES:Qe,PACKET_TYPES_REVERSE:et,ERROR_PACKET:{type:"error",data:"parser error"}};const{PACKET_TYPES:nt}=tt,ot="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),rt="function"==typeof ArrayBuffer,st=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+e)},n.readAsDataURL(e)};var it=({type:e,data:t},n,o)=>{return ot&&t instanceof Blob?n?o(t):st(t,o):rt&&(t instanceof ArrayBuffer||(r=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer))?n?o(t instanceof ArrayBuffer?t:t.buffer):st(new Blob([t]),o):o(nt[e]+(t||""));var r},ct=Fe((function(e,t){var n;n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.encode=function(e){var t,o=new Uint8Array(e),r=o.length,s="";for(t=0;t<r;t+=3)s+=n[o[t]>>2],s+=n[(3&o[t])<<4|o[t+1]>>4],s+=n[(15&o[t+1])<<2|o[t+2]>>6],s+=n[63&o[t+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s},t.decode=function(e){var t,o,r,s,i,c=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(c--,"="===e[e.length-2]&&c--);var u=new ArrayBuffer(c),f=new Uint8Array(u);for(t=0;t<a;t+=4)o=n.indexOf(e[t]),r=n.indexOf(e[t+1]),s=n.indexOf(e[t+2]),i=n.indexOf(e[t+3]),f[l++]=o<<2|r>>4,f[l++]=(15&r)<<4|s>>2,f[l++]=(3&s)<<6|63&i;return u}}));const{PACKET_TYPES_REVERSE:at,ERROR_PACKET:lt}=tt;let ut;"function"==typeof ArrayBuffer&&(ut=ct);const ft=(e,t)=>{if(ut){const n=ut.decode(e);return pt(n,t)}return{base64:!0,data:e}},pt=(e,t)=>{switch(t){case"blob":return e instanceof ArrayBuffer?new Blob([e]):e;case"arraybuffer":default:return e}};var dt=(e,t)=>{if("string"!=typeof e)return{type:"message",data:pt(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:ft(e.substring(1),t)};return at[n]?e.length>1?{type:at[n],data:e.substring(1)}:{type:at[n]}:lt};const ht=String.fromCharCode(30);var mt={protocol:4,encodePacket:it,encodePayload:(e,t)=>{const n=e.length,o=new Array(n);let r=0;e.forEach(((e,s)=>{it(e,!1,(e=>{o[s]=e,++r===n&&t(o.join(ht))}))}))},decodePacket:dt,decodePayload:(e,t)=>{const n=e.split(ht),o=[];for(let e=0;e<n.length;e++){const r=dt(n[e],t);if(o.push(r),"error"===r.type)break}return o}},gt=Fe((function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks["$"+e];if(!o)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<o.length;r++)if((n=o[r])===t||n.fn===t){o.splice(r,1);break}return 0===o.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],o=1;o<arguments.length;o++)t[o-1]=arguments[o];if(n){o=0;for(var r=(n=n.slice(0)).length;o<r;++o)n[o].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}));var yt,bt=class extends gt{constructor(e){super(),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t){const n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(e){const t=mt.decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){this.emit("packet",e)}onClose(){this.readyState="closed",this.emit("close")}},wt=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},vt=function(e){for(var t={},n=e.split("&"),o=0,r=n.length;o<r;o++){var s=n[o].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t},xt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),kt={},Ct=0,$t=0;function _t(e){var t="";do{t=xt[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function Et(){var e=_t(+new Date);return e!==yt?(Ct=0,yt=e):e+"."+_t(Ct++)}for(;$t<64;$t++)kt[xt[$t]]=$t;Et.encode=_t,Et.decode=function(e){var t=0;for($t=0;$t<e.length;$t++)t=64*t+kt[e.charAt($t)];return t};var St=Et;const Ot=We("engine.io-client:polling");var Tt=class extends bt{get name(){return"polling"}doOpen(){this.poll()}pause(e){const t=this;function n(){Ot("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){let e=0;this.polling&&(Ot("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){Ot("pre-pause polling complete"),--e||n()}))),this.writable||(Ot("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){Ot("pre-pause writing complete"),--e||n()})))}else n()}poll(){Ot("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){const t=this;Ot("polling got data %s",e);mt.decodePayload(e,this.socket.binaryType).forEach((function(e,n,o){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():Ot('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=this;function t(){Ot("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(Ot("transport open - closing"),t()):(Ot("transport not open - deferring close"),this.once("open",t))}write(e){this.writable=!1,mt.encodePayload(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emit("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=St()),this.supportsBinary||e.sid||(e.b64=1),e=wt(e),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}},At={pick:(e,...t)=>t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})};const{pick:jt}=At,Nt=We("engine.io-client:polling-xhr");function Pt(){}const Bt=null!=new Ge({xdomain:!1}).responseType;class Ft extends gt{constructor(e,t){super(),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=jt(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new Ge(e),n=this;try{Nt("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError("number"==typeof t.status?t.status:0)}),0))},Nt("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout((function(){n.onError(e)}),0)}"undefined"!=typeof document&&(this.index=Ft.requestsCount++,Ft.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=Pt:this.xhr.onreadystatechange=Pt,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete Ft.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&this.onData(e)}hasXDR(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}if(Ft.requestsCount=0,Ft.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",Rt);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Ze?"pagehide":"unload",Rt,!1)}function Rt(){for(let e in Ft.requests)Ft.requests.hasOwnProperty(e)&&Ft.requests[e].abort()}var Lt=class extends Tt{constructor(e){if(super(e),"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=Bt&&!t}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Ft(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e}),o=this;n.on("success",t),n.on("error",(function(e){o.onError("xhr post error",e)}))}doPoll(){Nt("xhr poll");const e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e}},Mt=Ft;Lt.Request=Mt;const Dt=/\n/g,qt=/\\n/g;let It;function zt(){}var Ht=class extends Tt{constructor(e){super(e),this.query=this.query||{},It||(It=Ze.___eio=Ze.___eio||[]),this.index=It.length;const t=this;It.push((function(e){t.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){t.script&&(t.script.onerror=zt)}),!1)}get supportsBinary(){return!1}doClose(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};const n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t;"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){const e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)}doWrite(e,t){const n=this;let o;if(!this.form){const e=document.createElement("form"),t=document.createElement("textarea"),n=this.iframeId="eio_iframe_"+this.index;e.className="socketio",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.target=n,e.method="POST",e.setAttribute("accept-charset","utf-8"),t.name="d",e.appendChild(t),document.body.appendChild(e),this.form=e,this.area=t}function r(){s(),t()}function s(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(e){n.onError("jsonp polling iframe removal error",e)}try{const e='<iframe src="javascript:0" name="'+n.iframeId+'">';o=document.createElement(e)}catch(e){o=document.createElement("iframe"),o.name=n.iframeId,o.src="javascript:0"}o.id=n.iframeId,n.form.appendChild(o),n.iframe=o}this.form.action=this.uri(),s(),e=e.replace(qt,"\\\n"),this.area.value=e.replace(Dt,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&r()}:this.iframe.onload=r}},Vt={WebSocket:Ze.WebSocket||Ze.MozWebSocket,usingBrowserWebSocket:!0,defaultBinaryType:"arraybuffer"};const{pick:Kt}=At,{WebSocket:Ut,usingBrowserWebSocket:Yt,defaultBinaryType:Wt}=Vt,Xt=We("engine.io-client:websocket"),Jt="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Zt extends bt{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Jt?{}:Kt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Yt&&!Jt?t?new Ut(e,t):new Ut(e):new Ut(e,t,n)}catch(e){return this.emit("error",e)}this.ws.binaryType=this.socket.binaryType||Wt,this.addEventListeners()}addEventListeners(){const e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}}write(e){const t=this;this.writable=!1;let n=e.length,o=0;const r=n;for(;o<r;o++)!function(e){mt.encodePacket(e,t.supportsBinary,(function(o){const r={};if(!Yt&&(e.options&&(r.compress=e.options.compress),t.opts.perMessageDeflate)){("string"==typeof o?Buffer.byteLength(o):o.length)<t.opts.perMessageDeflate.threshold&&(r.compress=!1)}try{Yt?t.ws.send(o):t.ws.send(o,r)}catch(e){Xt("websocket closed before onclose event")}--n||s()}))}(e[o]);function s(){t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0)}}onClose(){bt.prototype.onClose.call(this)}doClose(){void 0!==this.ws&&this.ws.close()}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=St()),this.supportsBinary||(e.b64=1),e=wt(e),e.length&&(e="?"+e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+e}check(){return!(!Ut||"__initialize"in Ut&&this.name===Zt.prototype.name)}}var Gt={polling:function(e){let t,n=!1,o=!1;const r=!1!==e.jsonp;if("undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?443:80),n=e.hostname!==location.hostname||r!==e.port,o=e.secure!==t}if(e.xdomain=n,e.xscheme=o,t=new Ge(e),"open"in t&&!e.forceJSONP)return new Lt(e);if(!r)throw new Error("JSONP disabled");return new Ht(e)},websocket:Zt};const Qt=We("engine.io-client:socket");class en extends gt{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Me(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Me(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=vt(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,this.open()}createTransport(e){Qt('creating transport "%s"',e);const t=function(e){const t={};for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.opts.query);t.EIO=mt.protocol,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return Qt("options: %j",n),new Gt[e](n)}open(){let e;if(this.opts.rememberUpgrade&&en.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){const e=this;return void setTimeout((function(){e.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return Qt("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){Qt("setting transport %s",e.name);const t=this;this.transport&&(Qt("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))}probe(e){Qt('probing transport "%s"',e);let t=this.createTransport(e,{probe:1}),n=!1;const o=this;function r(){if(o.onlyBinaryUpgrades){const e=!this.supportsBinary&&o.transport.supportsBinary;n=n||e}n||(Qt('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(r){if(!n)if("pong"===r.type&&"probe"===r.data){if(Qt('probe transport "%s" pong',e),o.upgrading=!0,o.emit("upgrading",t),!t)return;en.priorWebsocketSuccess="websocket"===t.name,Qt('pausing current transport "%s"',o.transport.name),o.transport.pause((function(){n||"closed"!==o.readyState&&(Qt("changing transport and sending upgrade packet"),u(),o.setTransport(t),t.send([{type:"upgrade"}]),o.emit("upgrade",t),t=null,o.upgrading=!1,o.flush())}))}else{Qt('probe transport "%s" failed',e);const n=new Error("probe error");n.transport=t.name,o.emit("upgradeError",n)}})))}function s(){n||(n=!0,u(),t.close(),t=null)}function i(n){const r=new Error("probe error: "+n);r.transport=t.name,s(),Qt('probe transport "%s" failed because of error: %s',e,n),o.emit("upgradeError",r)}function c(){i("transport closed")}function a(){i("socket closed")}function l(e){t&&e.name!==t.name&&(Qt('"%s" works - aborting "%s"',e.name,t.name),s())}function u(){t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",c),o.removeListener("close",a),o.removeListener("upgrading",l)}en.priorWebsocketSuccess=!1,t.once("open",r),t.once("error",i),t.once("close",c),this.once("close",a),this.once("upgrading",l),t.open()}onOpen(){if(Qt("socket open"),this.readyState="open",en.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){Qt("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(Qt('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else Qt('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout)}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()}flush(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(Qt("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,o){if("function"==typeof t&&(o=t,t=void 0),"function"==typeof n&&(o=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const r={type:e,data:t,options:n};this.emit("packetCreate",r),this.writeBuffer.push(r),o&&this.once("flush",o),this.flush()}close(){const e=this;function t(){e.onClose("forced close"),Qt("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function o(){e.once("upgrade",n),e.once("upgradeError",n)}return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){this.upgrading?o():t()})):this.upgrading?o():t()),this}onError(e){Qt("socket error %j",e),en.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)}onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){Qt('socket close with reason: "%s"',e);const n=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),n.writeBuffer=[],n.prevBufferLen=0}}filterUpgrades(e){const t=[];let n=0;const o=e.length;for(;n<o;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}en.priorWebsocketSuccess=!1,en.protocol=mt.protocol;var tn=en,nn=(e,t)=>new tn(e,t),on=tn,rn=tn.protocol,sn=bt,cn=Gt,an=mt;nn.Socket=on,nn.protocol=rn,nn.Transport=sn,nn.transports=cn,nn.parser=an;var ln=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const n="function"==typeof ArrayBuffer,o=Object.prototype.toString,r="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),s="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function i(e){return n&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||r&&e instanceof Blob||s&&e instanceof File}t.isBinary=i,t.hasBinary=function e(t,n){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let n=0,o=t.length;n<o;n++)if(e(t[n]))return!0;return!1}if(i(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return!0;return!1}})),un=Fe((function(e,t){function n(e,t){if(!e)return e;if(ln.isBinary(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const o=new Array(e.length);for(let r=0;r<e.length;r++)o[r]=n(e[r],t);return o}if("object"==typeof e&&!(e instanceof Date)){const o={};for(const r in e)e.hasOwnProperty(r)&&(o[r]=n(e[r],t));return o}return e}function o(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=o(e[n],t);else if("object"==typeof e)for(const n in e)e.hasOwnProperty(n)&&(e[n]=o(e[n],t));return e}Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0,t.deconstructPacket=function(e){const t=[],o=e.data,r=e;return r.data=n(o,t),r.attachments=t.length,{packet:r,buffers:t}},t.reconstructPacket=function(e,t){return e.data=o(e.data,t),e.attachments=void 0,e}})),fn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=We("socket.io-parser");var o;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(o=t.PacketType||(t.PacketType={}));t.Encoder=class{encode(e){return n("encoding packet %j",e),e.type!==o.EVENT&&e.type!==o.ACK||!ln.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===o.EVENT?o.BINARY_EVENT:o.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==o.BINARY_EVENT&&e.type!==o.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data)),n("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=un.deconstructPacket(e),n=this.encodeAsString(t.packet),o=t.buffers;return o.unshift(n),o}};class r extends gt{constructor(){super()}add(e){let t;if("string"==typeof e)t=this.decodeString(e),t.type===o.BINARY_EVENT||t.type===o.BINARY_ACK?(this.reconstructor=new s(t),0===t.attachments&&super.emit("decoded",t)):super.emit("decoded",t);else{if(!ln.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emit("decoded",t))}}decodeString(e){let t=0;const s={type:Number(e.charAt(0))};if(void 0===o[s.type])throw new Error("unknown packet type "+s.type);if(s.type===o.BINARY_EVENT||s.type===o.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(n,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");s.attachments=Number(o)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}s.nsp=e.substring(n,t)}else s.nsp="/";const i=e.charAt(t+1);if(""!==i&&Number(i)==i){const n=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}s.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=function(e){try{return JSON.parse(e)}catch(e){return!1}}(e.substr(t));if(!r.isPayloadValid(s.type,n))throw new Error("invalid payload");s.data=n}return n("decoded %s as %j",e,s),s}static isPayloadValid(e,t){switch(e){case o.CONNECT:return"object"==typeof t;case o.DISCONNECT:return void 0===t;case o.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case o.EVENT:case o.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case o.ACK:case o.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=r;class s{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=un.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}})),pn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,n){return e.on(t,n),function(){e.off(t,n)}}})),dn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const n=We("socket.io-client:socket"),o=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});t.Socket=class extends gt{constructor(e,t,n){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pn.on(e,"open",this.onopen.bind(this)),pn.on(e,"packet",this.onpacket.bind(this)),pn.on(e,"error",this.onerror.bind(this)),pn.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(o.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:fn.PacketType.EVENT,data:t,options:{}};r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(n("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++);const s=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!s||!this.connected)?n("discard packet as the transport is not currently writable"):this.connected?this.packet(r):this.sendBuffer.push(r),this.flags={},this}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){n("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:fn.PacketType.CONNECT,data:e})})):this.packet({type:fn.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||super.emit("connect_error",e)}onclose(e){n("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case fn.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case fn.PacketType.EVENT:case fn.PacketType.BINARY_EVENT:this.onevent(e);break;case fn.PacketType.ACK:case fn.PacketType.BINARY_ACK:this.onack(e);break;case fn.PacketType.DISCONNECT:this.ondisconnect();break;case fn.PacketType.CONNECT_ERROR:const t=new Error(e.data.message);t.data=e.data.data,super.emit("connect_error",t)}}onevent(e){const t=e.data||[];n("emitting event %j",t),null!=e.id&&(n("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let o=!1;return function(...r){o||(o=!0,n("sending ack %j",r),t.packet({type:fn.PacketType.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(n("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):n("bad ack %s",e.id)}onconnect(e){n("socket connected with id %s",e),this.id=e,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>this.packet(e))),this.sendBuffer=[]}ondisconnect(){n("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(n("performing disconnect (%s)",this.nsp),this.packet({type:fn.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}})),hn=mn;function mn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}mn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},mn.prototype.reset=function(){this.attempts=0},mn.prototype.setMin=function(e){this.ms=e},mn.prototype.setMax=function(e){this.max=e},mn.prototype.setJitter=function(e){this.jitter=e};var gn=Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const n=We("socket.io-client:manager");t.Manager=class extends gt{constructor(e,t){super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new hn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||fn;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(n("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;n("opening %s",this.uri),this.engine=nn(this.uri,this.opts);const t=this.engine,o=this;this._readyState="opening",this.skipReconnect=!1;const r=pn.on(t,"open",(function(){o.onopen(),e&&e()})),s=pn.on(t,"error",(t=>{n("error"),o.cleanup(),o._readyState="closed",super.emit("error",t),e?e(t):o.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;n("connect attempt will timeout after %d",e),0===e&&r();const o=setTimeout((()=>{n("connect attempt timed out after %d",e),r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.subs.push((function(){clearTimeout(o)}))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){n("open"),this.cleanup(),this._readyState="open",super.emit("open");const e=this.engine;this.subs.push(pn.on(e,"ping",this.onping.bind(this)),pn.on(e,"data",this.ondata.bind(this)),pn.on(e,"error",this.onerror.bind(this)),pn.on(e,"close",this.onclose.bind(this)),pn.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){super.emit("packet",e)}onerror(e){n("error",e),super.emit("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new dn.Socket(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t){if(this.nsps[e].active)return void n("socket %s is still active, skipping close",e)}this._close()}_packet(e){n("writing packet %j",e),e.query&&0===e.type&&(e.nsp+="?"+e.query);const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){n("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){n("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,"opening"===this._readyState&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){n("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)n("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();n("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const o=setTimeout((()=>{e.skipReconnect||(n("attempting reconnect"),super.emit("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(n("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),super.emit("reconnect_error",t)):(n("reconnect success"),e.onreconnect())})))}),t);this.subs.push((function(){clearTimeout(o)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",e)}}})),yn=Be(Fe((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=t.io=t.Manager=t.protocol=void 0,Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return dn.Socket}});const n=We("socket.io-client");e.exports=t=r;const o=t.managers={};function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=Xe.url(e),s=r.source,i=r.id,c=r.path,a=o[i]&&c in o[i].nsps;let l;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?(n("ignoring socket cache for %s",s),l=new gn.Manager(s,t)):(o[i]||(n("new io instance for %s",s),o[i]=new gn.Manager(s,t)),l=o[i]),r.query&&!t.query&&(t.query=r.query),l.socket(r.path,t)}t.io=r,Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return fn.protocol}}),t.connect=r;var s=gn;Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return s.Manager}})})));const bn=[];function wn(t,n=e){let o;const r=[];function s(e){if(c(t,e)&&(t=e,o)){const e=!bn.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),bn.push(n,t)}if(e){for(let e=0;e<bn.length;e+=2)bn[e][0](bn[e+1]);bn.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(i,c=e){const a=[i,c];return r.push(a),1===r.length&&(o=n(s)||e),i(t),()=>{const e=r.indexOf(a);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}const vn="chat-app.id",xn=wn([]),kn=wn(),Cn=yn("https://morning-oasis-02038.herokuapp.com/");function $n(e,t){const n={username:e,room:t};Cn.emit("join-room",n,((e,t)=>{e.find((({id:e})=>e===t.id)).isSelf=!0,xn.set(e),kn.set(n),localStorage.setItem(vn,JSON.stringify(n))}))}Cn.on("user-disconnect",(e=>{xn.update((t=>t.filter((t=>t.id!==e.id))))})),Cn.on("user-join",(e=>{xn.update((t=>[...t,e]))}));const _n=JSON.parse(localStorage.getItem(vn));function En(e){let t;return{c(){t=_("Enter or Create room")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Sn(e){let t,n,o,r,s,i,c,a,l,u,f,p,d,h,m;function g(t){e[4].call(null,t)}o=new Pe({});let y={label:"Name",name:"name",placeholder:"Name"};function b(t){e[5].call(null,t)}void 0!==e[0]&&(y.value=e[0]),i=new je({props:y}),K.push((()=>me(i,"value",g)));let w={name:"room",label:"Room Name"};return void 0!==e[1]&&(w.value=e[1]),l=new je({props:w}),K.push((()=>me(l,"value",b))),p=new Se({props:{disabled:e[2],class:"block w-full font-semibold",$$slots:{default:[En]},$$scope:{ctx:e}}}),{c(){t=C("div"),n=C("div"),ge(o.$$.fragment),r=E(),s=C("form"),ge(i.$$.fragment),a=E(),ge(l.$$.fragment),f=E(),ge(p.$$.fragment),A(n,"class","w-11/12 p-12 sm:w-8/12 md:w-6/12 lg:w-5/12 2xl:w-4/12 px-6 py-10\r\n    sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg"),A(t,"class","grid place-items-center w-full")},m(c,u){x(c,t,u),v(t,n),ye(o,n,null),v(n,r),v(n,s),ye(i,s,null),v(s,a),ye(l,s,null),v(s,f),ye(p,s,null),d=!0,h||(m=O(s,"submit",T(e[3])),h=!0)},p(e,[t]){const n={};!c&&1&t&&(c=!0,n.value=e[0],Z((()=>c=!1))),i.$set(n);const o={};!u&&2&t&&(u=!0,o.value=e[1],Z((()=>u=!1))),l.$set(o);const r={};4&t&&(r.disabled=e[2]),64&t&&(r.$$scope={dirty:t,ctx:e}),p.$set(r)},i(e){d||(ae(o.$$.fragment,e),ae(i.$$.fragment,e),ae(l.$$.fragment,e),ae(p.$$.fragment,e),d=!0)},o(e){le(o.$$.fragment,e),le(i.$$.fragment,e),le(l.$$.fragment,e),le(p.$$.fragment,e),d=!1},d(e){e&&k(t),be(o),be(i),be(l),be(p),h=!1,m()}}}function On(e,t,n){let o,r,s=!1;return[o,r,s,async function(){o&&r&&(n(2,s=!0),$n(o,r))},function(e){o=e,n(0,o)},function(e){r=e,n(1,r)}]}_n&&$n(_n.username,_n.room);class Tn extends xe{constructor(e){super(),ve(this,e,On,Sn,c,{})}}var An=Fe((function(e,t){
/*!
     * calerts
     * Lightweight and customizable dialogs inspired by sweetalert
     *
     * @version v1.1.10
     * @author Cris Fandio <sircnujnuj@gmail.com>
     * @license MIT
     */
e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(n){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?t(Object(r),!0).forEach((function(t){e(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function o(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n,o,r={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r(e,t){var n=e instanceof Element?e:document.createElement(e);if(!t)return n;for(var o in t){var r=t[o];if(/^on([A-Z][a-z A-Z])+/.test(o)){var i=o.toLowerCase().substr(2);n.addEventListener(i,r)}else switch(o){case"style":s(n,r);break;case"appendTo":if(!r)break;r.appendChild(n);break;case"appendChild":n.appendChild(r);break;case"dataset":n.dataset[r[0]]=r[1]||"";break;default:n[o]=r}}return n}function s(e,t){for(var n in t)e.style.setProperty(/^-+/.test(o=n)?o:/([^\-]+)([A-Z])/g.test(o)?o.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})):o.toLowerCase(),t[n]);var o}function i(){var e,t,n=new Promise((function(n,o){e=n,t=o}));return{reject:t,resolve:e,promise:n}}function c(e,t){return r(e,t),{on:function(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.split(" ").forEach((function(t){e.addEventListener(t,n,o)}))}}}function a(e){for(var t=["title","text","icon"],o={confirmButton:!0,backdropClick:!0},r=0;r<e.length;r++){var s=e[r];"string"==typeof s?o[t[r]]=e[r]:o=n(n({},o),s)}return o}var l=Object.freeze({__proto__:null,tag:r,styles:s,createPromise:i,queryAll:function(e){return document.querySelectorAll(e)},edit:c,parseArgument:a});!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('@keyframes ca-intro{0%{transform:scale(1);opacity:.5}1%{transform:scale(.5)}45%{transform:scale(1.05)}80%{transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes ca-fade{0%{opacity:1}to{opacity:0}}.ca-icon-section{display:flex;text-align:center;justify-content:center;align-items:center;margin:0 1rem}div.ca-icons{border-radius:50%;height:50px;width:50px;transform:scale(1.5);font-family:Helvetica,Arial,Sans-Serif;margin:2rem 0}.ca-icons-error{display:flex;justify-content:center;align-items:center;border:2px solid #ff9292}.ca-icons-error:before{color:#f80000;transform:scale(2.5)}.ca-icons-info{display:flex;justify-content:center;align-items:center;border:2px solid #6ed2ff}.ca-icons-info:before{color:#0092d4;transform:scale(2.5)}.ca-icons-success{display:flex;justify-content:center;align-items:center;border:2px solid #9cef99}.ca-icons-success:before{color:#26cf20;transform:scale(2.5);transform:scale(2)}.ca-icons-warning{display:flex;justify-content:center;align-items:center;border:2px solid #ffe496}.ca-icons-warning:before{color:#fcba00;transform:scale(2.5)}.ca-icons-question{display:flex;justify-content:center;align-items:center;border:2px solid #a1a1a1}.ca-icons-question:before{color:#545454;transform:scale(2.5)}.ca-icons-info:before{content:"\\0069"}.ca-icons-success:before{content:"\\2713"}.ca-icons-error:before{content:"\\00d7"}.ca-icons-warning:before{content:"\\0021"}.ca-icons-question:before{content:"\\003F"}.ca-backdrop{position:fixed;height:100%;z-index:100;top:0;left:0;right:0;bottom:0;overflow-y:auto;text-align:center;background:rgba(0,0,0,.4);display:flex;padding:10px;align-items:center;justify-content:center}.ca-backdrop *,.ca-backdrop :after,.ca-backdrop :before,.ca-box{box-sizing:border-box}.ca-box{background:#fff;font-family:Lato,Helvetica Neue,Helvetica,sans-serif;-webkit-text-size-adjust:100%;z-index:200;width:100%;display:flex;flex-direction:column;border-radius:5px;padding:1rem;margin:auto;animation:ca-intro .3s;will-change:transform}@media screen and (min-width:700px){.ca-box{width:450px}}.ca-box button{-webkit-tap-highlight-color:transparent}.ca-box img{max-width:100%}.ca-box .ca-button-section{display:flex;flex-direction:column;align-items:center;justify-content:center;flex-wrap:wrap;width:100%;margin-top:.5rem}@media screen and (min-width:320px){.ca-box .ca-button-section{flex-direction:row}}.ca-box .ca-content-section{text-align:center;padding:0 .35rem}.ca-box .ca-content-section *{overflow-wrap:break-word}.ca-box .ca-content-section h2.ca-title{font-size:1.9rem;color:#404040;font-weight:400;margin:.5rem 0}.ca-box .ca-content-section .ca-text{font-size:1.2rem;color:#4d4d4d;margin:0}.ca-box .ca-content-section .ca-inputs-form{display:flex;width:100%;align-items:center;justify-content:center;flex-direction:column;margin-top:1rem}.ca-box .ca-content-section .ca-inputs-form input[type=range]{width:100%}.ca-box footer{text-align:center;margin-top:1rem}.ca-box footer hr{border-width:medium 2px 2px;width:100%;margin-bottom:1rem;border-color:currentcolor #adadad #adadad;border-top:2px #adadad}.ca-box footer a{color:#03a0ff;text-decoration:none;font-weight:500;cursor:pointer;letter-spacing:1px}.ca-box footer a:hover{text-decoration:underline}.ca-btn{font-size:1rem;padding:.5rem;min-width:70px;border-radius:5px;border:none;color:#fff;margin:.35rem;user-select:none;font-weight:600}.ca-btn:focus{outline:none}.ca-btn-primary{--background:#3984ff;--focusColor:rgba(57,132,255,0.6);--hoverColor:#0664ff;background:var(--background);cursor:pointer}.ca-btn-primary:focus{box-shadow:0 0 0 3px var(--focusColor)}.ca-btn-primary:hover{background-color:var(--hoverColor)}.ca-btn-danger{--background:#ff4f4f;--focusColor:rgba(255,79,79,0.6);--hoverColor:#ff1c1c;background:var(--background);cursor:pointer}.ca-btn-danger:focus{box-shadow:0 0 0 3px var(--focusColor)}.ca-btn-danger:hover{background-color:var(--hoverColor)}.ca-input{padding:.5rem;border-radius:2.5px;border:1px solid #3984ff;margin:.5rem 0;font-size:1.2rem;color:#4d4d4d;min-width:calc(100% - 1rem);max-width:100%}.ca-input:focus{outline:none;border:1px solid rgba(57,132,255,.8);box-shadow:0 0 1px 2px rgba(57,132,255,.4)}');var u,f,p,d,h,m=r,g=s,y=c,b=i,w=a,v={};function x(e,t){var n="right"===t;g(e,{alignItems:n?"flex-end":"flex-start",justifyContent:n?"flex-end":"flex-start",textAlign:n?"right":"left"})}function k(e,t){var o="cancelButton"===e;return m("button",n(n({className:"ca-btn ca-btn-"+(o?"danger":"primary"),innerText:"string"==typeof t?t:o?"Cancel":"OK",dataset:["caxyz",e]},t),{},{onClick:function(){switch(e){case"cancelButton":case"confirmButton":v["cancelButton"===e?"isCanceled":"isConfirmed"]=!0;break;default:v.buttons[e]=!0}_()}}))}function C(e,t){var r=t.value,s=void 0===r?"":r,i=t.type,c=t.className,a=void 0===c?"":c,l=o(t,["value","type","className"]),u="textarea"===i?i:"input";return v.inputs[e]=s,m(u,n(n(n({},l),!("textarea"===i)&&{type:i}),{},{value:s,onChange:function(){v.inputs[e]=this.value},className:"range"===i?a:"ca-input ".concat(a)}))}function $(){var e=h||m("_");e.style.animation="ca-fade ".concat(150,"ms ease forwards"),setTimeout((function(){return e.remove()}),150)}function _(){clearTimeout(p),f(v),$(),v={},u=f=void 0}function E(){$();var e=w(arguments),t=e.backdropClick,o=e.title,r=e.text,s=e.image,i=e.icon,c=e.inputs,a=e.buttons,l=e.footer;u=b(),f=u.resolve,h=m("div",{className:"ca-backdrop",onClick:function(e){e.target===this&&t&&(v.isCanceled=!0,_())}}),d=m("div",{className:"ca-box",appendTo:h}),c&&(v.inputs={}),a&&(v.buttons={}),m("img",n({appendTo:s?d:null},s));var E={icon:m("div",{className:"ca-icon-section",appendTo:i?d:null}),content:m("div",{className:"ca-content-section",appendTo:d}),buttons:m("div",{className:"ca-button-section",appendTo:d}),footer:m("footer",{appendTo:l?d:null})},S={title:m("h2",{className:"ca-title",appendTo:o?E.content:null}),text:m("p",{className:"ca-text",appendTo:r?E.content:null}),form:m("form",{className:"ca-inputs-form",appendTo:c?E.content:null})};for(var O in e){var T=e[O];switch(O){case"icon":m("div",{className:"ca-icons ca-icons-".concat(T),appendTo:E.icon});break;case"footer":y(E[O],n({innerHTML:T},T));break;case"title":case"text":y(S[O],n({innerText:T},T));break;case"form":y(S[O],T);break;case"inputs":for(var A in T)S.form.appendChild(C(A,T[A]));break;case"cancelButton":case"confirmButton":if(!T)break;E.buttons.appendChild(k(O,T));break;case"modal":case"backdrop":g("modal"===O?d:h,T);break;case"buttons":for(var j in T)T[j]&&E.buttons.appendChild(k(j,T[j]));break;case"iconPosition":case"contentPosition":case"buttonsPosition":var N=E[O.replace("Position","")];if("center"===T)break;x(N,T);break;case"preConfirm":T instanceof Function&&T(d);case"animation":d.style.animation=T}}return document.body.appendChild(h),"number"==typeof e.timer&&(p=setTimeout(_,e.timer)),u.promise}return E.utils=l,E}()}));function jn(e){let t,o,r;const s=e[2].default,i=l(s,e,e[1],null);let c=[e[0],{class:o=`p-12 px-6 py-10\n  sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg ${e[0].class}`}],a={};for(let e=0;e<c.length;e+=1)a=n(a,c[e]);return{c(){t=C("div"),i&&i.c(),j(t,a)},m(e,n){x(e,t,n),i&&i.m(t,null),r=!0},p(e,[n]){i&&i.p&&2&n&&f(i,s,e,e[1],n,null,null),j(t,a=he(c,[1&n&&e[0],(!r||1&n&&o!==(o=`p-12 px-6 py-10\n  sm:px-10 sm:py-6 bg-white rounded-lg shadow-md lg:shadow-lg ${e[0].class}`))&&{class:o}]))},i(e){r||(ae(i,e),r=!0)},o(e){le(i,e),r=!1},d(e){e&&k(t),i&&i.d(e)}}}function Nn(e,t,o){let{$$slots:r={},$$scope:s}=t;return e.$$set=e=>{o(0,t=n(n({},t),p(e))),"$$scope"in e&&o(1,s=e.$$scope)},[t=p(t),s,r]}class Pn extends xe{constructor(e){super(),ve(this,e,Nn,jn,c,{})}}function Bn(e,{delay:n=0,duration:o=400,easing:r=t}={}){const s=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:r,css:e=>"opacity: "+e*s}}function Fn(e){let t,n,o,r,s;return{c(){t=C("img"),t.src!==(n=e[2])&&A(t,"src",n),A(t,"class","max-w-full max-h-60 cursor-pointer"),A(t,"alt",o=`sent by ${e[0]}`)},m(n,o){x(n,t,o),r||(s=O(t,"click",e[5]),r=!0)},p(e,r){4&r&&t.src!==(n=e[2])&&A(t,"src",n),1&r&&o!==(o=`sent by ${e[0]}`)&&A(t,"alt",o)},d(e){e&&k(t),r=!1,s()}}}function Rn(t){let n,o,r,s,i,c,a,l,u,f,p,d,h,m,g,y,b,w=t[0].substr(0,1).toUpperCase()+"",$=t[2]&&Fn(t);return{c(){var e,b,v;n=C("div"),o=C("div"),r=C("div"),s=_(w),i=E(),c=C("div"),a=C("div"),l=C("span"),u=_(t[0]),f=E(),p=C("span"),d=_(t[3]),h=E(),m=C("div"),g=_(t[1]),y=E(),$&&$.c(),A(r,"class","flex items-center justify-center h-10 w-10 rounded-full\r\n      bg-indigo-500 flex-shrink-0"),A(l,"class","font-bold text-blue-600 mr-2"),A(p,"class","text-blue-500 mr-2"),A(a,"class","flex"),e="word-break",b="break-word",c.style.setProperty(e,b,v?"important":""),A(c,"class","relative mr-3 text-sm py-2 px-4 shadow rounded-xl max-w-full"),B(c,"bg-indigo-100",t[4]),B(c,"bg-white",!t[4]),A(o,"class",`flex items-center ${t[6]}`),A(n,"class","rounded-lg max-w-full mb-2")},m(e,t){x(e,n,t),v(n,o),v(o,r),v(r,s),v(o,i),v(o,c),v(c,a),v(a,l),v(l,u),v(a,f),v(a,p),v(p,d),v(c,h),v(c,m),v(m,g),v(c,y),$&&$.m(c,null)},p(e,[t]){1&t&&w!==(w=e[0].substr(0,1).toUpperCase()+"")&&N(s,w),1&t&&N(u,e[0]),8&t&&N(d,e[3]),2&t&&N(g,e[1]),e[2]?$?$.p(e,t):($=Fn(e),$.c(),$.m(c,null)):$&&($.d(1),$=null),16&t&&B(c,"bg-indigo-100",e[4]),16&t&&B(c,"bg-white",!e[4])},i(e){b||J((()=>{b=fe(n,Bn,{}),b.start()}))},o:e,d(e){e&&k(n),$&&$.d()}}}function Ln(e,t,n){let{username:o=""}=t,{message:r=""}=t,{image:s=""}=t,{time:i=""}=t;let{isSelf:c=!1}=t;const a=c?"justify-start flex-row-reverse":"flex-row";return e.$$set=e=>{"username"in e&&n(0,o=e.username),"message"in e&&n(1,r=e.message),"image"in e&&n(2,s=e.image),"time"in e&&n(3,i=e.time),"isSelf"in e&&n(4,c=e.isSelf)},[o,r,s,i,c,async function(){(await An({image:{src:s,alt:"sent image by user"},confirmButton:"Download",cancelButton:"Cancel"})).isConfirmed&&An.utils.tag("a",{href:s,download:"image.png"}).click()},a]}class Mn extends xe{constructor(e){super(),ve(this,e,Ln,Rn,c,{username:0,message:1,image:2,time:3,isSelf:4})}}function Dn(t){let n,o,r,s,i,c,a=t[0].substr(0,1)+"";return{c(){n=C("button"),o=C("div"),r=_(a),s=E(),i=C("div"),c=_(t[0]),A(o,"class","flex items-center justify-center h-8 w-8 bg-indigo-200 rounded-full"),A(i,"class","ml-2 text-sm font-semibold"),A(n,"class","flex flex-row items-center rounded-xl p-2"),B(n,"bg-green-100",t[1]),B(n,"hover:bg-gray-100",!t[1])},m(e,t){x(e,n,t),v(n,o),v(o,r),v(n,s),v(n,i),v(i,c)},p(e,[t]){1&t&&a!==(a=e[0].substr(0,1)+"")&&N(r,a),1&t&&N(c,e[0]),2&t&&B(n,"bg-green-100",e[1]),2&t&&B(n,"hover:bg-gray-100",!e[1])},i:e,o:e,d(e){e&&k(n)}}}function qn(e,t,n){let{name:o}=t,{isSelf:r}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"isSelf"in e&&n(1,r=e.isSelf)},[o,r]}class In extends xe{constructor(e){super(),ve(this,e,qn,Dn,c,{name:0,isSelf:1})}}function zn(t){let o,r,s,i,c,a=[t[1],{class:"fixed top-2 right-2 h-10 w-10 block md:hidden cursor-pointer"}],l={};for(let e=0;e<a.length;e+=1)l=n(l,a[e]);return{c(){o=C("div"),r=$("svg"),s=$("path"),A(s,"d","M10,1.445c-4.726,0-8.555,3.829-8.555,8.555c0,4.725,3.829,8.555,8.555,8.555c4.725,0,8.555-3.83,8.555-8.555C18.555,5.274,14.725,1.445,10,1.445\r\n      M10,17.654c-4.221,0-7.654-3.434-7.654-7.654c0-4.221,3.433-7.654,7.654-7.654c4.222,0,7.654,3.433,7.654,7.654C17.654,14.221,14.222,17.654,10,17.654\r\n      M14.39,10c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,9.55,14.39,9.752,14.39,10\r\n      M14.39,12.702c0,0.247-0.203,0.449-0.45,0.449H6.06c-0.248,0-0.45-0.202-0.45-0.449c0-0.248,0.203-0.451,0.45-0.451h7.879C14.187,12.251,14.39,12.454,14.39,12.702\r\n      M14.39,7.298c0,0.248-0.203,0.45-0.45,0.45H6.06c-0.248,0-0.45-0.203-0.45-0.45s0.203-0.45,0.45-0.45h7.879C14.187,6.848,14.39,7.051,14.39,7.298"),A(r,"class","svg-icon fill-current text-blue-500"),A(r,"viewBox","0 0 20 20"),j(o,l)},m(e,n){x(e,o,n),v(o,r),v(r,s),i||(c=O(o,"click",t[2]),i=!0)},p(e,[t]){j(o,l=he(a,[2&t&&e[1],{class:"fixed top-2 right-2 h-10 w-10 block md:hidden cursor-pointer"}]))},i:e,o:e,d(e){e&&k(o),i=!1,c()}}}function Hn(e,t,o){const r=[];let s=d(t,r);const i=z();return e.$$set=e=>{t=n(n({},t),p(e)),o(1,s=d(t,r))},[i,s,e=>i("click",e)]}class Vn extends xe{constructor(e){super(),ve(this,e,Hn,zn,c,{})}}function Kn(e){return new Promise((t=>{const n=new FileReader;n.onload=function(){t(n.result)},n.readAsDataURL(e)}))}const Un=e=>({}),Yn=e=>({});function Wn(e){let t,o,r,i,c,a,u,p,d,h;const m=e[6].default,g=l(m,e,e[5],null),y=e[6].icon,b=l(y,e,e[5],Yn);let w=[e[3],{type:"file"},{hidden:!0},{id:e[2]}],$={};for(let e=0;e<w.length;e+=1)$=n($,w[e]);return{c(){t=C("div"),o=C("label"),r=C("span"),g&&g.c(),i=E(),b&&b.c(),c=E(),a=C("input"),A(r,"class","inline-block"),A(o,"class","flex items-center justify-center cursor-pointer"),A(o,"for",e[2]),j(a,$),A(t,"class",u=e[1]+" cursor-pointer")},m(n,s){x(n,t,s),v(t,o),v(o,r),g&&g.m(r,null),v(o,i),b&&b.m(o,null),v(t,c),v(t,a),e[9](a),p=!0,d||(h=[O(a,"change",e[7]),O(a,"input",e[8])],d=!0)},p(e,[n]){g&&g.p&&32&n&&f(g,m,e,e[5],n,null,null),b&&b.p&&32&n&&f(b,y,e,e[5],n,Un,Yn),j(a,$=he(w,[8&n&&e[3],{type:"file"},{hidden:!0},{id:e[2]}])),(!p||2&n&&u!==(u=e[1]+" cursor-pointer"))&&A(t,"class",u)},i(e){p||(ae(g,e),ae(b,e),p=!0)},o(e){le(g,e),le(b,e),p=!1},d(n){n&&k(t),g&&g.d(n),b&&b.d(n),e[9](null),d=!1,s(h)}}}function Xn(e,t,o){const r=["label","input","class"];let s=d(t,r),{$$slots:i={},$$scope:c}=t,{label:a=""}=t,{input:l=""}=t,{class:u}=t;const f=function(e="",t=!0){let n=0;return{create:()=>`${t?Date.now().toString(16):""}${e}${n++}`}}("LABEL"),h=a||f.create();return e.$$set=e=>{t=n(n({},t),p(e)),o(3,s=d(t,r)),"label"in e&&o(4,a=e.label),"input"in e&&o(0,l=e.input),"class"in e&&o(1,u=e.class),"$$scope"in e&&o(5,c=e.$$scope)},[l,u,h,s,a,c,i,function(t){H(e,t)},function(t){H(e,t)},function(e){K[e?"unshift":"push"]((()=>{l=e,o(0,l)}))}]}class Jn extends xe{constructor(e){super(),ve(this,e,Xn,Wn,c,{label:4,input:0,class:1})}}function Zn(e,t,n){const o=e.slice();return o[20]=t[n].id,o[13]=t[n].room,o[21]=function(e,t){const n={};for(const o in e)h(e,o)&&-1===t.indexOf(o)&&(n[o]=e[o]);return n}(t[n],["id","room"]),o}function Gn(e,t,n){const o=e.slice();return o[12]=t[n].username,o[20]=t[n].id,o[24]=t[n].isSelf,o}function Qn(e,t){let n,o,r;return o=new In({props:{name:t[12],isSelf:t[24]}}),{key:e,first:null,c(){n=S(),ge(o.$$.fragment),this.first=n},m(e,t){x(e,n,t),ye(o,e,t),r=!0},p(e,n){t=e;const r={};128&n&&(r.name=t[12]),128&n&&(r.isSelf=t[24]),o.$set(r)},i(e){r||(ae(o.$$.fragment,e),r=!0)},o(e){le(o.$$.fragment,e),r=!1},d(e){e&&k(n),be(o,e)}}}function eo(e){let t;return{c(){t=_("Leave Room")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function to(e){let t;return{c(){t=_("Clear Chat")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function no(e,t){let o,r,s;const i=[t[21]];let c={};for(let e=0;e<i.length;e+=1)c=n(c,i[e]);return r=new Mn({props:c}),{key:e,first:null,c(){o=S(),ge(r.$$.fragment),this.first=o},m(e,t){x(e,o,t),ye(r,e,t),s=!0},p(e,n){t=e;const o=2&n?he(i,[(s=t[21],"object"==typeof s&&null!==s?s:{})]):{};var s;r.$set(o)},i(e){s||(ae(r.$$.fragment,e),s=!0)},o(e){le(r.$$.fragment,e),s=!1},d(e){e&&k(o),be(r,e)}}}function oo(e){let t,n,o,r;return{c(){t=$("svg"),n=$("rect"),o=$("circle"),r=$("polyline"),A(n,"x","3"),A(n,"y","3"),A(n,"width","18"),A(n,"height","18"),A(n,"rx","2"),A(n,"ry","2"),A(o,"cx","8.5"),A(o,"cy","8.5"),A(o,"r","1.5"),A(r,"points","21 15 16 10 5 21"),A(t,"slot","icon"),A(t,"xmlns","http://www.w3.org/2000/svg"),A(t,"width","30"),A(t,"height","30"),A(t,"viewBox","0 0 24 24"),A(t,"fill","none"),A(t,"stroke","#3b82f6"),A(t,"stroke-width","2"),A(t,"stroke-linecap","round"),A(t,"stroke-linejoin","round")},m(e,s){x(e,t,s),v(t,n),v(t,o),v(t,r)},d(e){e&&k(t)}}}function ro(e){let t,n;return{c(){t=$("svg"),n=$("path"),A(n,"stroke-linecap","round"),A(n,"stroke-linejoin","round"),A(n,"stroke-width","2"),A(n,"d","M12 19l9 2-9-18-9 18 9-2zm0 0v-8"),A(t,"slot","icon"),A(t,"class","w-4 h-4 transform rotate-90 ml-1"),A(t,"fill","none"),A(t,"stroke","currentColor"),A(t,"viewBox","0 0 24 24"),A(t,"xmlns","http://www.w3.org/2000/svg")},m(e,o){x(e,t,o),v(t,n)},d(e){e&&k(t)}}}function so(t){let n;return{c(){n=_("Send\r\n          ")},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function io(e){let t,n,o,r,i,c,a,l,u,f,p,d,h,m,g,y,b,w=[],$=new Map,_=e[1];const S=e=>e[20];for(let t=0;t<_.length;t+=1){let n=Zn(e,_,t),o=S(n);$.set(o,w[t]=no(o,n))}function j(t){e[17].call(null,t)}let N={accept:"image/*",class:"absolute right-0 bottom-0",$$slots:{icon:[oo]},$$scope:{ctx:e}};function B(t){e[18].call(null,t)}void 0!==e[4]&&(N.input=e[4]),f=new Jn({props:N}),K.push((()=>me(f,"input",j))),f.$on("change",e[8]);let F={disabled:e[6],class:" ml-2",$$slots:{default:[so],icon:[ro]},$$scope:{ctx:e}};return void 0!==e[5]&&(F.ref=e[5]),h=new Se({props:F}),K.push((()=>me(h,"ref",B))),{c(){t=C("div"),n=C("div"),o=C("div"),r=C("div");for(let e=0;e<w.length;e+=1)w[e].c();i=E(),c=C("form"),a=C("div"),l=C("textarea"),u=E(),ge(f.$$.fragment),d=E(),ge(h.$$.fragment),A(r,"class","flex flex-col"),A(o,"class","flex flex-col h-full"),A(n,"class","flex flex-col h-full overflow-x-auto mb-4 smoo"),A(l,"autocomplete","off"),l.autofocus=!0,A(l,"class","w-full shadow-md block py-3 px-1 pr-8 mt-2 text-gray-800\r\n            appearance-none border-b-2 border-gray-200 focus:text-gray-500\r\n            focus:outline-none focus:border-gray-200 resize-none"),A(l,"name","message"),A(a,"class","w-full relative"),A(c,"class","flex items-center justify-center"),A(t,"class","flex flex-col flex-auto flex-shrink-0 rounded-2xl h-full p-4")},m(s,p){x(s,t,p),v(t,n),v(n,o),v(o,r);for(let e=0;e<w.length;e+=1)w[e].m(r,null);e[15](n),v(t,i),v(t,c),v(c,a),v(a,l),P(l,e[0]),v(a,u),ye(f,a,null),v(c,d),ye(h,c,null),g=!0,y||(b=[O(l,"input",e[16]),O(l,"keydown",ao),O(c,"submit",T(e[8]))],y=!0)},p(e,t){2&t&&(_=e[1],ie(),w=de(w,t,S,1,e,_,$,r,pe,no,null,Zn),ce()),1&t&&P(l,e[0]);const n={};134217728&t&&(n.$$scope={dirty:t,ctx:e}),!p&&16&t&&(p=!0,n.input=e[4],Z((()=>p=!1))),f.$set(n);const o={};64&t&&(o.disabled=e[6]),134217728&t&&(o.$$scope={dirty:t,ctx:e}),!m&&32&t&&(m=!0,o.ref=e[5],Z((()=>m=!1))),h.$set(o)},i(e){if(!g){for(let e=0;e<_.length;e+=1)ae(w[e]);ae(f.$$.fragment,e),ae(h.$$.fragment,e),g=!0}},o(e){for(let e=0;e<w.length;e+=1)le(w[e]);le(f.$$.fragment,e),le(h.$$.fragment,e),g=!1},d(n){n&&k(t);for(let e=0;e<w.length;e+=1)w[e].d();e[15](null),be(f),be(h),y=!1,s(b)}}}function co(e){let t,n,o,r,s,i,c,a,l,u,f,p,d,h,m,g,y,b,w,$,S,T,j,N,P,F,R,L,M,D=[],q=new Map;n=new Vn({}),n.$on("click",e[14]),s=new Pe({});let I=e[7];const z=e=>e[20];for(let t=0;t<I.length;t+=1){let n=Gn(e,I,t),o=z(n);q.set(o,D[t]=Qn(o,n))}return T=new Se({props:{class:"w-full",danger:!0,$$slots:{default:[eo]},$$scope:{ctx:e}}}),T.$on("click",e[9]),N=new Se({props:{class:"w-full",$$slots:{default:[to]},$$scope:{ctx:e}}}),N.$on("click",e[10]),F=new Pn({props:{class:"flex flex-col flex-auto h-full p-2 bg-gray-200",$$slots:{default:[io]},$$scope:{ctx:e}}}),{c(){t=C("div"),ge(n.$$.fragment),o=E(),r=C("div"),ge(s.$$.fragment),i=E(),c=C("div"),a=C("span"),a.textContent="Room:",l=E(),u=_(e[13]),f=E(),p=C("div"),d=C("span"),d.textContent="Name:",h=E(),m=_(e[12]),g=E(),y=C("div"),b=C("div"),b.innerHTML='<span class="font-bold">Active Conversations</span>',w=E(),$=C("div");for(let e=0;e<D.length;e+=1)D[e].c();S=E(),ge(T.$$.fragment),j=E(),ge(N.$$.fragment),P=E(),ge(F.$$.fragment),A(a,"class","font-bold"),A(c,"class","text-md mt-5"),A(d,"class","font-bold"),A(p,"class","text-md mt-5"),A(b,"class","flex flex-row items-center justify-between text-xs"),A($,"class","flex flex-col space-y-1 -mx-2 h-50 mb-2 overflow-y-auto"),A(y,"class","flex flex-col mt-8"),A(r,"class","flex-col py-8 px-3 md:w-64 w-2/4 bg-white flex-shrink-0\n    overflow-auto fixed md:static top-0 h-screen z-50 transform duration-150 md:transform-none"),B(r,"-translate-x-full",!e[3]),A(t,"class","flex md:flex-row flex-col h-full w-full overflow-x-hidden\r\n  bg-transparent ")},m(k,C){x(k,t,C),ye(n,t,null),v(t,o),v(t,r),ye(s,r,null),v(r,i),v(r,c),v(c,a),v(c,l),v(c,u),v(r,f),v(r,p),v(p,d),v(p,h),v(p,m),v(r,g),v(r,y),v(y,b),v(y,w),v(y,$);for(let e=0;e<D.length;e+=1)D[e].m($,null);v(r,S),ye(T,r,null),v(r,j),ye(N,r,null),v(t,P),ye(F,t,null),R=!0,L||(M=O(window,"keydown",e[11]),L=!0)},p(e,[t]){128&t&&(I=e[7],ie(),D=de(D,t,z,1,e,I,q,$,pe,Qn,null,Gn),ce());const n={};134217728&t&&(n.$$scope={dirty:t,ctx:e}),T.$set(n);const o={};134217728&t&&(o.$$scope={dirty:t,ctx:e}),N.$set(o),8&t&&B(r,"-translate-x-full",!e[3]);const s={};134217847&t&&(s.$$scope={dirty:t,ctx:e}),F.$set(s)},i(e){if(!R){ae(n.$$.fragment,e),ae(s.$$.fragment,e);for(let e=0;e<I.length;e+=1)ae(D[e]);ae(T.$$.fragment,e),ae(N.$$.fragment,e),ae(F.$$.fragment,e),R=!0}},o(e){le(n.$$.fragment,e),le(s.$$.fragment,e);for(let e=0;e<D.length;e+=1)le(D[e]);le(T.$$.fragment,e),le(N.$$.fragment,e),le(F.$$.fragment,e),R=!1},d(e){e&&k(t),be(n),be(s);for(let e=0;e<D.length;e+=1)D[e].d();be(T),be(N),be(F),L=!1,M()}}}const ao=e=>"Enter"===e.key&&e.preventDefault();function lo(e,t,n){let o,r;a(e,kn,(e=>n(19,o=e))),a(e,xn,(e=>n(7,r=e)));const{username:s,room:i}=o;let c,l,u,f,p="",d=[],h=!1;var m;m=()=>{c&&(n(2,c.scrollTop=c.scrollHeight,c),c.focus())},I().$$.after_update.push(m),Cn.on("server-message",(e=>{n(1,d=[...d,e])}));return[p,d,c,l,u,f,h,r,async function(e){const t=u.files[0]||null;if("FORM"===e.target.tagName&&!p)return;if(t&&t.size>1048576)return An("Error","Image must be 1mb size below","error"),void n(4,u.value="",u);n(6,h=!0);const o={username:s,message:p,image:t&&await Kn(t),room:i};Cn.emit("send-message",o,(e=>{e.isSelf=!0,n(1,d=[...d,e]),n(0,p=""),n(4,u.value="",u),n(6,h=!1)}))},function(){localStorage.removeItem(vn),xn.set([]),kn.set(null),Cn.emit("user-leave")},function(){n(1,d=[])},function(e){"Enter"===e.key&&f.click()},s,i,()=>n(3,l=!l),function(e){K[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},function(){p=this.value,n(0,p)},function(e){u=e,n(4,u)},function(e){f=e,n(5,f)}]}class uo extends xe{constructor(e){super(),ve(this,e,lo,co,c,{})}}function fo(e){let t,n;return t=new Tn({}),{c(){ge(t.$$.fragment)},m(e,o){ye(t,e,o),n=!0},i(e){n||(ae(t.$$.fragment,e),n=!0)},o(e){le(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function po(e){let t,n;return t=new uo({}),{c(){ge(t.$$.fragment)},m(e,o){ye(t,e,o),n=!0},i(e){n||(ae(t.$$.fragment,e),n=!0)},o(e){le(t.$$.fragment,e),n=!1},d(e){be(t,e)}}}function ho(e){let t,n,o,r,s,i;t=new ke({});const c=[po,fo],a=[];function l(e,t){return e[0]?0:1}return r=l(e),s=a[r]=c[r](e),{c(){ge(t.$$.fragment),n=E(),o=C("main"),s.c(),A(o,"class","bg-gray-300 h-screen flex items-center justify-center w-full")},m(e,s){ye(t,e,s),x(e,n,s),x(e,o,s),a[r].m(o,null),i=!0},p(e,[t]){let n=r;r=l(e),r!==n&&(ie(),le(a[n],1,1,(()=>{a[n]=null})),ce(),s=a[r],s||(s=a[r]=c[r](e),s.c()),ae(s,1),s.m(o,null))},i(e){i||(ae(t.$$.fragment,e),ae(s),i=!0)},o(e){le(t.$$.fragment,e),le(s),i=!1},d(e){be(t,e),e&&k(n),e&&k(o),a[r].d()}}}function mo(e,t,n){let o;return a(e,kn,(e=>n(0,o=e))),[o]}return new class extends xe{constructor(e){super(),ve(this,e,mo,ho,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
